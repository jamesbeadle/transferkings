import{c as He,g as js}from"./index.C10wYsOo.js";var Js={},Je={};Je.byteLength=to;Je.toByteArray=ro;Je.fromByteArray=so;var ce=[],Jt=[],Zs=typeof Uint8Array<"u"?Uint8Array:Array,Yr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Oe=0,Qs=Yr.length;Oe<Qs;++Oe)ce[Oe]=Yr[Oe],Jt[Yr.charCodeAt(Oe)]=Oe;Jt[45]=62;Jt[95]=63;function Xi(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var i=r===t?0:4-r%4;return[r,i]}function to(e){var t=Xi(e),r=t[0],i=t[1];return(r+i)*3/4-i}function eo(e,t,r){return(t+r)*3/4-r}function ro(e){var t,r=Xi(e),i=r[0],u=r[1],p=new Zs(eo(e,i,u)),w=0,c=u>0?i-4:i,_;for(_=0;_<c;_+=4)t=Jt[e.charCodeAt(_)]<<18|Jt[e.charCodeAt(_+1)]<<12|Jt[e.charCodeAt(_+2)]<<6|Jt[e.charCodeAt(_+3)],p[w++]=t>>16&255,p[w++]=t>>8&255,p[w++]=t&255;return u===2&&(t=Jt[e.charCodeAt(_)]<<2|Jt[e.charCodeAt(_+1)]>>4,p[w++]=t&255),u===1&&(t=Jt[e.charCodeAt(_)]<<10|Jt[e.charCodeAt(_+1)]<<4|Jt[e.charCodeAt(_+2)]>>2,p[w++]=t>>8&255,p[w++]=t&255),p}function no(e){return ce[e>>18&63]+ce[e>>12&63]+ce[e>>6&63]+ce[e&63]}function io(e,t,r){for(var i,u=[],p=t;p<r;p+=3)i=(e[p]<<16&16711680)+(e[p+1]<<8&65280)+(e[p+2]&255),u.push(no(i));return u.join("")}function so(e){for(var t,r=e.length,i=r%3,u=[],p=16383,w=0,c=r-i;w<c;w+=p)u.push(io(e,w,w+p>c?c:w+p));return i===1?(t=e[r-1],u.push(ce[t>>2]+ce[t<<4&63]+"==")):i===2&&(t=(e[r-2]<<8)+e[r-1],u.push(ce[t>>10]+ce[t>>4&63]+ce[t<<2&63]+"=")),u.join("")}var Ze={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ze.read=function(e,t,r,i,u){var p,w,c=u*8-i-1,_=(1<<c)-1,I=_>>1,F=-7,O=r?u-1:0,k=r?-1:1,C=e[t+O];for(O+=k,p=C&(1<<-F)-1,C>>=-F,F+=c;F>0;p=p*256+e[t+O],O+=k,F-=8);for(w=p&(1<<-F)-1,p>>=-F,F+=i;F>0;w=w*256+e[t+O],O+=k,F-=8);if(p===0)p=1-I;else{if(p===_)return w?NaN:(C?-1:1)*(1/0);w=w+Math.pow(2,i),p=p-I}return(C?-1:1)*w*Math.pow(2,p-i)};Ze.write=function(e,t,r,i,u,p){var w,c,_,I=p*8-u-1,F=(1<<I)-1,O=F>>1,k=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=i?0:p-1,rt=i?1:-1,et=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,w=F):(w=Math.floor(Math.log(t)/Math.LN2),t*(_=Math.pow(2,-w))<1&&(w--,_*=2),w+O>=1?t+=k/_:t+=k*Math.pow(2,1-O),t*_>=2&&(w++,_/=2),w+O>=F?(c=0,w=F):w+O>=1?(c=(t*_-1)*Math.pow(2,u),w=w+O):(c=t*Math.pow(2,O-1)*Math.pow(2,u),w=0));u>=8;e[r+C]=c&255,C+=rt,c/=256,u-=8);for(w=w<<u|c,I+=u;I>0;e[r+C]=w&255,C+=rt,w/=256,I-=8);e[r+C-rt]|=et*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Je,r=Ze,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=ut,e.INSPECT_MAX_BYTES=50;const u=2147483647;e.kMaxLength=u,c.TYPED_ARRAY_SUPPORT=p(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function p(){try{const l=new Uint8Array(1),o={foo:function(){return 42}};return Object.setPrototypeOf(o,Uint8Array.prototype),Object.setPrototypeOf(l,o),l.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function w(l){if(l>u)throw new RangeError('The value "'+l+'" is invalid for option "size"');const o=new Uint8Array(l);return Object.setPrototypeOf(o,c.prototype),o}function c(l,o,a){if(typeof l=="number"){if(typeof o=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return O(l)}return _(l,o,a)}c.poolSize=8192;function _(l,o,a){if(typeof l=="string")return k(l,o);if(ArrayBuffer.isView(l))return rt(l);if(l==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(v(l,ArrayBuffer)||l&&v(l.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(v(l,SharedArrayBuffer)||l&&v(l.buffer,SharedArrayBuffer)))return et(l,o,a);if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const x=l.valueOf&&l.valueOf();if(x!=null&&x!==l)return c.from(x,o,a);const T=ht(l);if(T)return T;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof l[Symbol.toPrimitive]=="function")return c.from(l[Symbol.toPrimitive]("string"),o,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l)}c.from=function(l,o,a){return _(l,o,a)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function I(l){if(typeof l!="number")throw new TypeError('"size" argument must be of type number');if(l<0)throw new RangeError('The value "'+l+'" is invalid for option "size"')}function F(l,o,a){return I(l),l<=0?w(l):o!==void 0?typeof a=="string"?w(l).fill(o,a):w(l).fill(o):w(l)}c.alloc=function(l,o,a){return F(l,o,a)};function O(l){return I(l),w(l<0?0:St(l)|0)}c.allocUnsafe=function(l){return O(l)},c.allocUnsafeSlow=function(l){return O(l)};function k(l,o){if((typeof o!="string"||o==="")&&(o="utf8"),!c.isEncoding(o))throw new TypeError("Unknown encoding: "+o);const a=Q(l,o)|0;let x=w(a);const T=x.write(l,o);return T!==a&&(x=x.slice(0,T)),x}function C(l){const o=l.length<0?0:St(l.length)|0,a=w(o);for(let x=0;x<o;x+=1)a[x]=l[x]&255;return a}function rt(l){if(v(l,Uint8Array)){const o=new Uint8Array(l);return et(o.buffer,o.byteOffset,o.byteLength)}return C(l)}function et(l,o,a){if(o<0||l.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<o+(a||0))throw new RangeError('"length" is outside of buffer bounds');let x;return o===void 0&&a===void 0?x=new Uint8Array(l):a===void 0?x=new Uint8Array(l,o):x=new Uint8Array(l,o,a),Object.setPrototypeOf(x,c.prototype),x}function ht(l){if(c.isBuffer(l)){const o=St(l.length)|0,a=w(o);return a.length===0||l.copy(a,0,0,o),a}if(l.length!==void 0)return typeof l.length!="number"||M(l.length)?w(0):C(l);if(l.type==="Buffer"&&Array.isArray(l.data))return C(l.data)}function St(l){if(l>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return l|0}function ut(l){return+l!=l&&(l=0),c.alloc(+l)}c.isBuffer=function(o){return o!=null&&o._isBuffer===!0&&o!==c.prototype},c.compare=function(o,a){if(v(o,Uint8Array)&&(o=c.from(o,o.offset,o.byteLength)),v(a,Uint8Array)&&(a=c.from(a,a.offset,a.byteLength)),!c.isBuffer(o)||!c.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(o===a)return 0;let x=o.length,T=a.length;for(let L=0,R=Math.min(x,T);L<R;++L)if(o[L]!==a[L]){x=o[L],T=a[L];break}return x<T?-1:T<x?1:0},c.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(o,a){if(!Array.isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return c.alloc(0);let x;if(a===void 0)for(a=0,x=0;x<o.length;++x)a+=o[x].length;const T=c.allocUnsafe(a);let L=0;for(x=0;x<o.length;++x){let R=o[x];if(v(R,Uint8Array))L+R.length>T.length?(c.isBuffer(R)||(R=c.from(R)),R.copy(T,L)):Uint8Array.prototype.set.call(T,R,L);else if(c.isBuffer(R))R.copy(T,L);else throw new TypeError('"list" argument must be an Array of Buffers');L+=R.length}return T};function Q(l,o){if(c.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||v(l,ArrayBuffer))return l.byteLength;if(typeof l!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);const a=l.length,x=arguments.length>2&&arguments[2]===!0;if(!x&&a===0)return 0;let T=!1;for(;;)switch(o){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return n(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return g(l).length;default:if(T)return x?-1:n(l).length;o=(""+o).toLowerCase(),T=!0}}c.byteLength=Q;function Nt(l,o,a){let x=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,o>>>=0,a<=o))return"";for(l||(l="utf8");;)switch(l){case"hex":return H(this,o,a);case"utf8":case"utf-8":return Ut(this,o,a);case"ascii":return Ot(this,o,a);case"latin1":case"binary":return Y(this,o,a);case"base64":return gt(this,o,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,o,a);default:if(x)throw new TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),x=!0}}c.prototype._isBuffer=!0;function X(l,o,a){const x=l[o];l[o]=l[a],l[a]=x}c.prototype.swap16=function(){const o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<o;a+=2)X(this,a,a+1);return this},c.prototype.swap32=function(){const o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<o;a+=4)X(this,a,a+3),X(this,a+1,a+2);return this},c.prototype.swap64=function(){const o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<o;a+=8)X(this,a,a+7),X(this,a+1,a+6),X(this,a+2,a+5),X(this,a+3,a+4);return this},c.prototype.toString=function(){const o=this.length;return o===0?"":arguments.length===0?Ut(this,0,o):Nt.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(o){if(!c.isBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:c.compare(this,o)===0},c.prototype.inspect=function(){let o="";const a=e.INSPECT_MAX_BYTES;return o=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(o+=" ... "),"<Buffer "+o+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(o,a,x,T,L){if(v(o,Uint8Array)&&(o=c.from(o,o.offset,o.byteLength)),!c.isBuffer(o))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof o);if(a===void 0&&(a=0),x===void 0&&(x=o?o.length:0),T===void 0&&(T=0),L===void 0&&(L=this.length),a<0||x>o.length||T<0||L>this.length)throw new RangeError("out of range index");if(T>=L&&a>=x)return 0;if(T>=L)return-1;if(a>=x)return 1;if(a>>>=0,x>>>=0,T>>>=0,L>>>=0,this===o)return 0;let R=L-T,it=x-a;const _t=Math.min(R,it),ft=this.slice(T,L),ot=o.slice(a,x);for(let Tt=0;Tt<_t;++Tt)if(ft[Tt]!==ot[Tt]){R=ft[Tt],it=ot[Tt];break}return R<it?-1:it<R?1:0};function J(l,o,a,x,T){if(l.length===0)return-1;if(typeof a=="string"?(x=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,M(a)&&(a=T?0:l.length-1),a<0&&(a=l.length+a),a>=l.length){if(T)return-1;a=l.length-1}else if(a<0)if(T)a=0;else return-1;if(typeof o=="string"&&(o=c.from(o,x)),c.isBuffer(o))return o.length===0?-1:Z(l,o,a,x,T);if(typeof o=="number")return o=o&255,typeof Uint8Array.prototype.indexOf=="function"?T?Uint8Array.prototype.indexOf.call(l,o,a):Uint8Array.prototype.lastIndexOf.call(l,o,a):Z(l,[o],a,x,T);throw new TypeError("val must be string, number or Buffer")}function Z(l,o,a,x,T){let L=1,R=l.length,it=o.length;if(x!==void 0&&(x=String(x).toLowerCase(),x==="ucs2"||x==="ucs-2"||x==="utf16le"||x==="utf-16le")){if(l.length<2||o.length<2)return-1;L=2,R/=2,it/=2,a/=2}function _t(ot,Tt){return L===1?ot[Tt]:ot.readUInt16BE(Tt*L)}let ft;if(T){let ot=-1;for(ft=a;ft<R;ft++)if(_t(l,ft)===_t(o,ot===-1?0:ft-ot)){if(ot===-1&&(ot=ft),ft-ot+1===it)return ot*L}else ot!==-1&&(ft-=ft-ot),ot=-1}else for(a+it>R&&(a=R-it),ft=a;ft>=0;ft--){let ot=!0;for(let Tt=0;Tt<it;Tt++)if(_t(l,ft+Tt)!==_t(o,Tt)){ot=!1;break}if(ot)return ft}return-1}c.prototype.includes=function(o,a,x){return this.indexOf(o,a,x)!==-1},c.prototype.indexOf=function(o,a,x){return J(this,o,a,x,!0)},c.prototype.lastIndexOf=function(o,a,x){return J(this,o,a,x,!1)};function lt(l,o,a,x){a=Number(a)||0;const T=l.length-a;x?(x=Number(x),x>T&&(x=T)):x=T;const L=o.length;x>L/2&&(x=L/2);let R;for(R=0;R<x;++R){const it=parseInt(o.substr(R*2,2),16);if(M(it))return R;l[a+R]=it}return R}function wt(l,o,a,x){return b(n(o,l.length-a),l,a,x)}function P(l,o,a,x){return b(s(o),l,a,x)}function bt(l,o,a,x){return b(g(o),l,a,x)}function xt(l,o,a,x){return b(h(o,l.length-a),l,a,x)}c.prototype.write=function(o,a,x,T){if(a===void 0)T="utf8",x=this.length,a=0;else if(x===void 0&&typeof a=="string")T=a,x=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(x)?(x=x>>>0,T===void 0&&(T="utf8")):(T=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const L=this.length-a;if((x===void 0||x>L)&&(x=L),o.length>0&&(x<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");T||(T="utf8");let R=!1;for(;;)switch(T){case"hex":return lt(this,o,a,x);case"utf8":case"utf-8":return wt(this,o,a,x);case"ascii":case"latin1":case"binary":return P(this,o,a,x);case"base64":return bt(this,o,a,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xt(this,o,a,x);default:if(R)throw new TypeError("Unknown encoding: "+T);T=(""+T).toLowerCase(),R=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function gt(l,o,a){return o===0&&a===l.length?t.fromByteArray(l):t.fromByteArray(l.slice(o,a))}function Ut(l,o,a){a=Math.min(l.length,a);const x=[];let T=o;for(;T<a;){const L=l[T];let R=null,it=L>239?4:L>223?3:L>191?2:1;if(T+it<=a){let _t,ft,ot,Tt;switch(it){case 1:L<128&&(R=L);break;case 2:_t=l[T+1],(_t&192)===128&&(Tt=(L&31)<<6|_t&63,Tt>127&&(R=Tt));break;case 3:_t=l[T+1],ft=l[T+2],(_t&192)===128&&(ft&192)===128&&(Tt=(L&15)<<12|(_t&63)<<6|ft&63,Tt>2047&&(Tt<55296||Tt>57343)&&(R=Tt));break;case 4:_t=l[T+1],ft=l[T+2],ot=l[T+3],(_t&192)===128&&(ft&192)===128&&(ot&192)===128&&(Tt=(L&15)<<18|(_t&63)<<12|(ft&63)<<6|ot&63,Tt>65535&&Tt<1114112&&(R=Tt))}}R===null?(R=65533,it=1):R>65535&&(R-=65536,x.push(R>>>10&1023|55296),R=56320|R&1023),x.push(R),T+=it}return $t(x)}const Bt=4096;function $t(l){const o=l.length;if(o<=Bt)return String.fromCharCode.apply(String,l);let a="",x=0;for(;x<o;)a+=String.fromCharCode.apply(String,l.slice(x,x+=Bt));return a}function Ot(l,o,a){let x="";a=Math.min(l.length,a);for(let T=o;T<a;++T)x+=String.fromCharCode(l[T]&127);return x}function Y(l,o,a){let x="";a=Math.min(l.length,a);for(let T=o;T<a;++T)x+=String.fromCharCode(l[T]);return x}function H(l,o,a){const x=l.length;(!o||o<0)&&(o=0),(!a||a<0||a>x)&&(a=x);let T="";for(let L=o;L<a;++L)T+=K[l[L]];return T}function W(l,o,a){const x=l.slice(o,a);let T="";for(let L=0;L<x.length-1;L+=2)T+=String.fromCharCode(x[L]+x[L+1]*256);return T}c.prototype.slice=function(o,a){const x=this.length;o=~~o,a=a===void 0?x:~~a,o<0?(o+=x,o<0&&(o=0)):o>x&&(o=x),a<0?(a+=x,a<0&&(a=0)):a>x&&(a=x),a<o&&(a=o);const T=this.subarray(o,a);return Object.setPrototypeOf(T,c.prototype),T};function $(l,o,a){if(l%1!==0||l<0)throw new RangeError("offset is not uint");if(l+o>a)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(o,a,x){o=o>>>0,a=a>>>0,x||$(o,a,this.length);let T=this[o],L=1,R=0;for(;++R<a&&(L*=256);)T+=this[o+R]*L;return T},c.prototype.readUintBE=c.prototype.readUIntBE=function(o,a,x){o=o>>>0,a=a>>>0,x||$(o,a,this.length);let T=this[o+--a],L=1;for(;a>0&&(L*=256);)T+=this[o+--a]*L;return T},c.prototype.readUint8=c.prototype.readUInt8=function(o,a){return o=o>>>0,a||$(o,1,this.length),this[o]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(o,a){return o=o>>>0,a||$(o,2,this.length),this[o]|this[o+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(o,a){return o=o>>>0,a||$(o,2,this.length),this[o]<<8|this[o+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(o,a){return o=o>>>0,a||$(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(o,a){return o=o>>>0,a||$(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])},c.prototype.readBigUInt64LE=V(function(o){o=o>>>0,N(o,"offset");const a=this[o],x=this[o+7];(a===void 0||x===void 0)&&S(o,this.length-8);const T=a+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24,L=this[++o]+this[++o]*2**8+this[++o]*2**16+x*2**24;return BigInt(T)+(BigInt(L)<<BigInt(32))}),c.prototype.readBigUInt64BE=V(function(o){o=o>>>0,N(o,"offset");const a=this[o],x=this[o+7];(a===void 0||x===void 0)&&S(o,this.length-8);const T=a*2**24+this[++o]*2**16+this[++o]*2**8+this[++o],L=this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+x;return(BigInt(T)<<BigInt(32))+BigInt(L)}),c.prototype.readIntLE=function(o,a,x){o=o>>>0,a=a>>>0,x||$(o,a,this.length);let T=this[o],L=1,R=0;for(;++R<a&&(L*=256);)T+=this[o+R]*L;return L*=128,T>=L&&(T-=Math.pow(2,8*a)),T},c.prototype.readIntBE=function(o,a,x){o=o>>>0,a=a>>>0,x||$(o,a,this.length);let T=a,L=1,R=this[o+--T];for(;T>0&&(L*=256);)R+=this[o+--T]*L;return L*=128,R>=L&&(R-=Math.pow(2,8*a)),R},c.prototype.readInt8=function(o,a){return o=o>>>0,a||$(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]},c.prototype.readInt16LE=function(o,a){o=o>>>0,a||$(o,2,this.length);const x=this[o]|this[o+1]<<8;return x&32768?x|4294901760:x},c.prototype.readInt16BE=function(o,a){o=o>>>0,a||$(o,2,this.length);const x=this[o+1]|this[o]<<8;return x&32768?x|4294901760:x},c.prototype.readInt32LE=function(o,a){return o=o>>>0,a||$(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},c.prototype.readInt32BE=function(o,a){return o=o>>>0,a||$(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},c.prototype.readBigInt64LE=V(function(o){o=o>>>0,N(o,"offset");const a=this[o],x=this[o+7];(a===void 0||x===void 0)&&S(o,this.length-8);const T=this[o+4]+this[o+5]*2**8+this[o+6]*2**16+(x<<24);return(BigInt(T)<<BigInt(32))+BigInt(a+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24)}),c.prototype.readBigInt64BE=V(function(o){o=o>>>0,N(o,"offset");const a=this[o],x=this[o+7];(a===void 0||x===void 0)&&S(o,this.length-8);const T=(a<<24)+this[++o]*2**16+this[++o]*2**8+this[++o];return(BigInt(T)<<BigInt(32))+BigInt(this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+x)}),c.prototype.readFloatLE=function(o,a){return o=o>>>0,a||$(o,4,this.length),r.read(this,o,!0,23,4)},c.prototype.readFloatBE=function(o,a){return o=o>>>0,a||$(o,4,this.length),r.read(this,o,!1,23,4)},c.prototype.readDoubleLE=function(o,a){return o=o>>>0,a||$(o,8,this.length),r.read(this,o,!0,52,8)},c.prototype.readDoubleBE=function(o,a){return o=o>>>0,a||$(o,8,this.length),r.read(this,o,!1,52,8)};function G(l,o,a,x,T,L){if(!c.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>T||o<L)throw new RangeError('"value" argument is out of bounds');if(a+x>l.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(o,a,x,T){if(o=+o,a=a>>>0,x=x>>>0,!T){const it=Math.pow(2,8*x)-1;G(this,o,a,x,it,0)}let L=1,R=0;for(this[a]=o&255;++R<x&&(L*=256);)this[a+R]=o/L&255;return a+x},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(o,a,x,T){if(o=+o,a=a>>>0,x=x>>>0,!T){const it=Math.pow(2,8*x)-1;G(this,o,a,x,it,0)}let L=x-1,R=1;for(this[a+L]=o&255;--L>=0&&(R*=256);)this[a+L]=o/R&255;return a+x},c.prototype.writeUint8=c.prototype.writeUInt8=function(o,a,x){return o=+o,a=a>>>0,x||G(this,o,a,1,255,0),this[a]=o&255,a+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(o,a,x){return o=+o,a=a>>>0,x||G(this,o,a,2,65535,0),this[a]=o&255,this[a+1]=o>>>8,a+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(o,a,x){return o=+o,a=a>>>0,x||G(this,o,a,2,65535,0),this[a]=o>>>8,this[a+1]=o&255,a+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(o,a,x){return o=+o,a=a>>>0,x||G(this,o,a,4,4294967295,0),this[a+3]=o>>>24,this[a+2]=o>>>16,this[a+1]=o>>>8,this[a]=o&255,a+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(o,a,x){return o=+o,a=a>>>0,x||G(this,o,a,4,4294967295,0),this[a]=o>>>24,this[a+1]=o>>>16,this[a+2]=o>>>8,this[a+3]=o&255,a+4};function pt(l,o,a,x,T){E(o,x,T,l,a,7);let L=Number(o&BigInt(4294967295));l[a++]=L,L=L>>8,l[a++]=L,L=L>>8,l[a++]=L,L=L>>8,l[a++]=L;let R=Number(o>>BigInt(32)&BigInt(4294967295));return l[a++]=R,R=R>>8,l[a++]=R,R=R>>8,l[a++]=R,R=R>>8,l[a++]=R,a}function d(l,o,a,x,T){E(o,x,T,l,a,7);let L=Number(o&BigInt(4294967295));l[a+7]=L,L=L>>8,l[a+6]=L,L=L>>8,l[a+5]=L,L=L>>8,l[a+4]=L;let R=Number(o>>BigInt(32)&BigInt(4294967295));return l[a+3]=R,R=R>>8,l[a+2]=R,R=R>>8,l[a+1]=R,R=R>>8,l[a]=R,a+8}c.prototype.writeBigUInt64LE=V(function(o,a=0){return pt(this,o,a,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=V(function(o,a=0){return d(this,o,a,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(o,a,x,T){if(o=+o,a=a>>>0,!T){const _t=Math.pow(2,8*x-1);G(this,o,a,x,_t-1,-_t)}let L=0,R=1,it=0;for(this[a]=o&255;++L<x&&(R*=256);)o<0&&it===0&&this[a+L-1]!==0&&(it=1),this[a+L]=(o/R>>0)-it&255;return a+x},c.prototype.writeIntBE=function(o,a,x,T){if(o=+o,a=a>>>0,!T){const _t=Math.pow(2,8*x-1);G(this,o,a,x,_t-1,-_t)}let L=x-1,R=1,it=0;for(this[a+L]=o&255;--L>=0&&(R*=256);)o<0&&it===0&&this[a+L+1]!==0&&(it=1),this[a+L]=(o/R>>0)-it&255;return a+x},c.prototype.writeInt8=function(o,a,x){return o=+o,a=a>>>0,x||G(this,o,a,1,127,-128),o<0&&(o=255+o+1),this[a]=o&255,a+1},c.prototype.writeInt16LE=function(o,a,x){return o=+o,a=a>>>0,x||G(this,o,a,2,32767,-32768),this[a]=o&255,this[a+1]=o>>>8,a+2},c.prototype.writeInt16BE=function(o,a,x){return o=+o,a=a>>>0,x||G(this,o,a,2,32767,-32768),this[a]=o>>>8,this[a+1]=o&255,a+2},c.prototype.writeInt32LE=function(o,a,x){return o=+o,a=a>>>0,x||G(this,o,a,4,2147483647,-2147483648),this[a]=o&255,this[a+1]=o>>>8,this[a+2]=o>>>16,this[a+3]=o>>>24,a+4},c.prototype.writeInt32BE=function(o,a,x){return o=+o,a=a>>>0,x||G(this,o,a,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),this[a]=o>>>24,this[a+1]=o>>>16,this[a+2]=o>>>8,this[a+3]=o&255,a+4},c.prototype.writeBigInt64LE=V(function(o,a=0){return pt(this,o,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=V(function(o,a=0){return d(this,o,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function mt(l,o,a,x,T,L){if(a+x>l.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function dt(l,o,a,x,T){return o=+o,a=a>>>0,T||mt(l,o,a,4),r.write(l,o,a,x,23,4),a+4}c.prototype.writeFloatLE=function(o,a,x){return dt(this,o,a,!0,x)},c.prototype.writeFloatBE=function(o,a,x){return dt(this,o,a,!1,x)};function At(l,o,a,x,T){return o=+o,a=a>>>0,T||mt(l,o,a,8),r.write(l,o,a,x,52,8),a+8}c.prototype.writeDoubleLE=function(o,a,x){return At(this,o,a,!0,x)},c.prototype.writeDoubleBE=function(o,a,x){return At(this,o,a,!1,x)},c.prototype.copy=function(o,a,x,T){if(!c.isBuffer(o))throw new TypeError("argument should be a Buffer");if(x||(x=0),!T&&T!==0&&(T=this.length),a>=o.length&&(a=o.length),a||(a=0),T>0&&T<x&&(T=x),T===x||o.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("sourceEnd out of bounds");T>this.length&&(T=this.length),o.length-a<T-x&&(T=o.length-a+x);const L=T-x;return this===o&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,x,T):Uint8Array.prototype.set.call(o,this.subarray(x,T),a),L},c.prototype.fill=function(o,a,x,T){if(typeof o=="string"){if(typeof a=="string"?(T=a,a=0,x=this.length):typeof x=="string"&&(T=x,x=this.length),T!==void 0&&typeof T!="string")throw new TypeError("encoding must be a string");if(typeof T=="string"&&!c.isEncoding(T))throw new TypeError("Unknown encoding: "+T);if(o.length===1){const R=o.charCodeAt(0);(T==="utf8"&&R<128||T==="latin1")&&(o=R)}}else typeof o=="number"?o=o&255:typeof o=="boolean"&&(o=Number(o));if(a<0||this.length<a||this.length<x)throw new RangeError("Out of range index");if(x<=a)return this;a=a>>>0,x=x===void 0?this.length:x>>>0,o||(o=0);let L;if(typeof o=="number")for(L=a;L<x;++L)this[L]=o;else{const R=c.isBuffer(o)?o:c.from(o,T),it=R.length;if(it===0)throw new TypeError('The value "'+o+'" is invalid for argument "value"');for(L=0;L<x-a;++L)this[L+a]=R[L%it]}return this};const z={};function q(l,o,a){z[l]=class extends a{constructor(){super(),Object.defineProperty(this,"message",{value:o.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${l}]`,this.stack,delete this.name}get code(){return l}set code(T){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:T,writable:!0})}toString(){return`${this.name} [${l}]: ${this.message}`}}}q("ERR_BUFFER_OUT_OF_BOUNDS",function(l){return l?`${l} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),q("ERR_INVALID_ARG_TYPE",function(l,o){return`The "${l}" argument must be of type number. Received type ${typeof o}`},TypeError),q("ERR_OUT_OF_RANGE",function(l,o,a){let x=`The value of "${l}" is out of range.`,T=a;return Number.isInteger(a)&&Math.abs(a)>2**32?T=y(String(a)):typeof a=="bigint"&&(T=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(T=y(T)),T+="n"),x+=` It must be ${o}. Received ${T}`,x},RangeError);function y(l){let o="",a=l.length;const x=l[0]==="-"?1:0;for(;a>=x+4;a-=3)o=`_${l.slice(a-3,a)}${o}`;return`${l.slice(0,a)}${o}`}function m(l,o,a){N(o,"offset"),(l[o]===void 0||l[o+a]===void 0)&&S(o,l.length-(a+1))}function E(l,o,a,x,T,L){if(l>a||l<o){const R=typeof o=="bigint"?"n":"";let it;throw o===0||o===BigInt(0)?it=`>= 0${R} and < 2${R} ** ${(L+1)*8}${R}`:it=`>= -(2${R} ** ${(L+1)*8-1}${R}) and < 2 ** ${(L+1)*8-1}${R}`,new z.ERR_OUT_OF_RANGE("value",it,l)}m(x,T,L)}function N(l,o){if(typeof l!="number")throw new z.ERR_INVALID_ARG_TYPE(o,"number",l)}function S(l,o,a){throw Math.floor(l)!==l?(N(l,a),new z.ERR_OUT_OF_RANGE("offset","an integer",l)):o<0?new z.ERR_BUFFER_OUT_OF_BOUNDS:new z.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${o}`,l)}const U=/[^+/0-9A-Za-z-_]/g;function f(l){if(l=l.split("=")[0],l=l.trim().replace(U,""),l.length<2)return"";for(;l.length%4!==0;)l=l+"=";return l}function n(l,o){o=o||1/0;let a;const x=l.length;let T=null;const L=[];for(let R=0;R<x;++R){if(a=l.charCodeAt(R),a>55295&&a<57344){if(!T){if(a>56319){(o-=3)>-1&&L.push(239,191,189);continue}else if(R+1===x){(o-=3)>-1&&L.push(239,191,189);continue}T=a;continue}if(a<56320){(o-=3)>-1&&L.push(239,191,189),T=a;continue}a=(T-55296<<10|a-56320)+65536}else T&&(o-=3)>-1&&L.push(239,191,189);if(T=null,a<128){if((o-=1)<0)break;L.push(a)}else if(a<2048){if((o-=2)<0)break;L.push(a>>6|192,a&63|128)}else if(a<65536){if((o-=3)<0)break;L.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((o-=4)<0)break;L.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return L}function s(l){const o=[];for(let a=0;a<l.length;++a)o.push(l.charCodeAt(a)&255);return o}function h(l,o){let a,x,T;const L=[];for(let R=0;R<l.length&&!((o-=2)<0);++R)a=l.charCodeAt(R),x=a>>8,T=a%256,L.push(T),L.push(x);return L}function g(l){return t.toByteArray(f(l))}function b(l,o,a,x){let T;for(T=0;T<x&&!(T+a>=o.length||T>=l.length);++T)o[T+a]=l[T];return T}function v(l,o){return l instanceof o||l!=null&&l.constructor!=null&&l.constructor.name!=null&&l.constructor.name===o.name}function M(l){return l!==l}const K=function(){const l="0123456789abcdef",o=new Array(256);for(let a=0;a<16;++a){const x=a*16;for(let T=0;T<16;++T)o[x+T]=l[a]+l[T]}return o}();function V(l){return typeof BigInt>"u"?ct:l}function ct(){throw new Error("BigInt not supported")}})(Js);const oo=-1,ao=-2,uo=-3,co=-4,fo=-5,lo=-6;function Kc(e,t){if(typeof e=="number")return u(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const r=e,i=Array(r.length);function u(p,w=!1){if(p===oo)return;if(p===uo)return NaN;if(p===co)return 1/0;if(p===fo)return-1/0;if(p===lo)return-0;if(w)throw new Error("Invalid input");if(p in i)return i[p];const c=r[p];if(!c||typeof c!="object")i[p]=c;else if(Array.isArray(c))if(typeof c[0]=="string"){const _=c[0],I=t?.[_];if(I)return i[p]=I(u(c[1]));switch(_){case"Date":i[p]=new Date(c[1]);break;case"Set":const F=new Set;i[p]=F;for(let C=1;C<c.length;C+=1)F.add(u(c[C]));break;case"Map":const O=new Map;i[p]=O;for(let C=1;C<c.length;C+=2)O.set(u(c[C]),u(c[C+1]));break;case"RegExp":i[p]=new RegExp(c[1],c[2]);break;case"Object":i[p]=Object(c[1]);break;case"BigInt":i[p]=BigInt(c[1]);break;case"null":const k=Object.create(null);i[p]=k;for(let C=1;C<c.length;C+=2)k[c[C]]=u(c[C+1]);break;default:throw new Error(`Unknown type ${_}`)}}else{const _=new Array(c.length);i[p]=_;for(let I=0;I<c.length;I+=1){const F=c[I];F!==ao&&(_[I]=u(F))}}else{const _={};i[p]=_;for(const I in c){const F=c[I];_[I]=u(F)}}return i[p]}return u(0)}var ri;(function(e){e[e.SysFatal=1]="SysFatal",e[e.SysTransient=2]="SysTransient",e[e.DestinationInvalid=3]="DestinationInvalid",e[e.CanisterReject=4]="CanisterReject",e[e.CanisterError=5]="CanisterError"})(ri||(ri={}));const Sr="abcdefghijklmnopqrstuvwxyz234567",Ge=Object.create(null);for(let e=0;e<Sr.length;e++)Ge[Sr[e]]=e;Ge[0]=Ge.o;Ge[1]=Ge.i;function ho(e){let t=0,r=0,i="";function u(p){return t<0?r|=p>>-t:r=p<<t&248,t>3?(t-=8,1):(t<4&&(i+=Sr[r>>3],t+=5),0)}for(let p=0;p<e.length;)p+=u(e[p]);return i+(t<0?Sr[r>>3]:"")}function po(e){let t=0,r=0;const i=new Uint8Array(e.length*4/3|0);let u=0;function p(w){let c=Ge[w.toLowerCase()];if(c===void 0)throw new Error(`Invalid character: ${JSON.stringify(w)}`);c<<=3,r|=c>>>t,t+=5,t>=8&&(i[u++]=r,t-=8,t>0?r=c<<5-t&255:r=0)}for(const w of e)p(w);return i.slice(0,u)}const go=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function yo(e){const t=new Uint8Array(e);let r=-1;for(let i=0;i<t.length;i++){const p=(t[i]^r)&255;r=go[p]^r>>>8}return(r^-1)>>>0}function wo(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Un(e,...t){if(!wo(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function ni(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function mo(e,t){Un(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Kr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qr=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),oe=(e,t)=>e<<32-t|e>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function ji(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Ji(e){return typeof e=="string"&&(e=ji(e)),Un(e),e}function xo(...e){let t=0;for(let i=0;i<e.length;i++){const u=e[i];Un(u),t+=u.length}const r=new Uint8Array(t);for(let i=0,u=0;i<e.length;i++){const p=e[i];r.set(p,u),u+=p.length}return r}class _o{clone(){return this._cloneInto()}}function Fn(e){const t=i=>e().update(Ji(i)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Eo(e=32){if(Kr&&typeof Kr.getRandomValues=="function")return Kr.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function bo(e,t,r,i){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,i);const u=BigInt(32),p=BigInt(4294967295),w=Number(r>>u&p),c=Number(r&p),_=i?4:0,I=i?0:4;e.setUint32(t+_,w,i),e.setUint32(t+I,c,i)}const Ao=(e,t,r)=>e&t^~e&r,Io=(e,t,r)=>e&t^e&r^t&r;class Zi extends _o{constructor(t,r,i,u){super(),this.blockLen=t,this.outputLen=r,this.padOffset=i,this.isLE=u,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=qr(this.buffer)}update(t){ni(this);const{view:r,buffer:i,blockLen:u}=this;t=Ji(t);const p=t.length;for(let w=0;w<p;){const c=Math.min(u-this.pos,p-w);if(c===u){const _=qr(t);for(;u<=p-w;w+=u)this.process(_,w);continue}i.set(t.subarray(w,w+c),this.pos),this.pos+=c,w+=c,this.pos===u&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){ni(this),mo(t,this),this.finished=!0;const{buffer:r,view:i,blockLen:u,isLE:p}=this;let{pos:w}=this;r[w++]=128,this.buffer.subarray(w).fill(0),this.padOffset>u-w&&(this.process(i,0),w=0);for(let O=w;O<u;O++)r[O]=0;bo(i,u-8,BigInt(this.length*8),p),this.process(i,0);const c=qr(t),_=this.outputLen;if(_%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const I=_/4,F=this.get();if(I>F.length)throw new Error("_sha2: outputLen bigger than state");for(let O=0;O<I;O++)c.setUint32(4*O,F[O],p)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const i=t.slice(0,r);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:i,length:u,finished:p,destroyed:w,pos:c}=this;return t.length=u,t.pos=c,t.finished=p,t.destroyed=w,u%r&&t.buffer.set(i),t}}const To=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ye=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),we=new Uint32Array(64);class Qi extends Zi{constructor(){super(64,32,8,!1),this.A=ye[0]|0,this.B=ye[1]|0,this.C=ye[2]|0,this.D=ye[3]|0,this.E=ye[4]|0,this.F=ye[5]|0,this.G=ye[6]|0,this.H=ye[7]|0}get(){const{A:t,B:r,C:i,D:u,E:p,F:w,G:c,H:_}=this;return[t,r,i,u,p,w,c,_]}set(t,r,i,u,p,w,c,_){this.A=t|0,this.B=r|0,this.C=i|0,this.D=u|0,this.E=p|0,this.F=w|0,this.G=c|0,this.H=_|0}process(t,r){for(let O=0;O<16;O++,r+=4)we[O]=t.getUint32(r,!1);for(let O=16;O<64;O++){const k=we[O-15],C=we[O-2],rt=oe(k,7)^oe(k,18)^k>>>3,et=oe(C,17)^oe(C,19)^C>>>10;we[O]=et+we[O-7]+rt+we[O-16]|0}let{A:i,B:u,C:p,D:w,E:c,F:_,G:I,H:F}=this;for(let O=0;O<64;O++){const k=oe(c,6)^oe(c,11)^oe(c,25),C=F+k+Ao(c,_,I)+To[O]+we[O]|0,et=(oe(i,2)^oe(i,13)^oe(i,22))+Io(i,u,p)|0;F=I,I=_,_=c,c=w+C|0,w=p,p=u,u=i,i=C+et|0}i=i+this.A|0,u=u+this.B|0,p=p+this.C|0,w=w+this.D|0,c=c+this.E|0,_=_+this.F|0,I=I+this.G|0,F=F+this.H|0,this.set(i,u,p,w,c,_,I,F)}roundClean(){we.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class So extends Qi{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Bo=Fn(()=>new Qi),No=Fn(()=>new So);function Uo(e){return No.create().update(new Uint8Array(e)).digest()}const lr="__principal__",Fo=2,ii=4,vo="aaaaa-aa",Ro=e=>{var t;return new Uint8Array(((t=e.match(/.{1,2}/g))!==null&&t!==void 0?t:[]).map(r=>parseInt(r,16)))},Lo=e=>e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"");class Se{constructor(t){this._arr=t,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([ii]))}static managementCanister(){return this.fromHex(vo)}static selfAuthenticating(t){const r=Uo(t);return new this(new Uint8Array([...r,Fo]))}static from(t){if(typeof t=="string")return Se.fromText(t);if(Object.getPrototypeOf(t)===Uint8Array.prototype)return new Se(t);if(typeof t=="object"&&t!==null&&t._isPrincipal===!0)return new Se(t._arr);throw new Error(`Impossible to convert ${JSON.stringify(t)} to Principal.`)}static fromHex(t){return new this(Ro(t))}static fromText(t){let r=t;if(t.includes(lr)){const w=JSON.parse(t);lr in w&&(r=w[lr])}const i=r.toLowerCase().replace(/-/g,"");let u=po(i);u=u.slice(4,u.length);const p=new this(u);if(p.toText()!==r)throw new Error(`Principal "${p.toText()}" does not have a valid checksum (original value "${r}" may not be a valid Principal ID).`);return p}static fromUint8Array(t){return new this(t)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===ii}toUint8Array(){return this._arr}toHex(){return Lo(this._arr).toUpperCase()}toText(){const t=new ArrayBuffer(4);new DataView(t).setUint32(0,yo(this._arr));const i=new Uint8Array(t),u=Uint8Array.from(this._arr),p=new Uint8Array([...i,...u]),c=ho(p).match(/.{1,5}/g);if(!c)throw new Error;return c.join("-")}toString(){return this.toText()}toJSON(){return{[lr]:this.toText()}}compareTo(t){for(let r=0;r<Math.min(this._arr.length,t._arr.length);r++){if(this._arr[r]<t._arr[r])return"lt";if(this._arr[r]>t._arr[r])return"gt"}return this._arr.length<t._arr.length?"lt":this._arr.length>t._arr.length?"gt":"eq"}ltEq(t){const r=this.compareTo(t);return r=="lt"||r=="eq"}gtEq(t){const r=this.compareTo(t);return r=="gt"||r=="eq"}}class vn{constructor(t,r=t?.byteLength||0){this._buffer=hn(t||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,r)}get buffer(){return hn(this._view.slice())}get byteLength(){return this._view.byteLength}read(t){const r=this._view.subarray(0,t);return this._view=this._view.subarray(t),r.slice().buffer}readUint8(){const t=this._view[0];return this._view=this._view.subarray(1),t}write(t){const r=new Uint8Array(t),i=this._view.byteLength;this._view.byteOffset+this._view.byteLength+r.byteLength>=this._buffer.byteLength?this.alloc(r.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+r.byteLength),this._view.set(r,i)}get end(){return this._view.byteLength===0}alloc(t){const r=new ArrayBuffer((this._buffer.byteLength+t)*1.2|0),i=new Uint8Array(r,0,this._view.byteLength+t);i.set(this._view),this._buffer=r,this._view=i}}function Vr(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function hn(e){return e instanceof Uint8Array?Vr(e):e instanceof ArrayBuffer?e:Array.isArray(e)?Vr(new Uint8Array(e)):"buffer"in e?hn(e.buffer):Vr(new Uint8Array(e))}function ts(){throw new Error("unexpected end of buffer")}function Oo(e,t){return e.byteLength<t&&ts(),e.read(t)}function si(e){const t=e.readUint8();return t===void 0&&ts(),t}function oi(e){if(typeof e=="number"&&(e=BigInt(e)),e<BigInt(0))throw new Error("Cannot leb encode negative values.");const t=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,r=new vn(new ArrayBuffer(t),0);for(;;){const i=Number(e&BigInt(127));if(e/=BigInt(128),e===BigInt(0)){r.write(new Uint8Array([i]));break}else r.write(new Uint8Array([i|128]))}return r.buffer}function Rn(e){typeof e=="number"&&(e=BigInt(e));const t=e<BigInt(0);t&&(e=-e-BigInt(1));const r=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,i=new vn(new ArrayBuffer(r),0);for(;;){const p=u(e);if(e/=BigInt(128),t&&e===BigInt(0)&&p&64||!t&&e===BigInt(0)&&!(p&64)){i.write(new Uint8Array([p]));break}else i.write(new Uint8Array([p|128]))}function u(p){const w=p%BigInt(128);return Number(t?BigInt(128)-w-BigInt(1):w)}return i.buffer}function Do(e,t){if(BigInt(e)<BigInt(0))throw new Error("Cannot write negative values.");return es(e,t)}function es(e,t){e=BigInt(e);const r=new vn(new ArrayBuffer(Math.min(1,t)),0);let i=0,u=BigInt(256),p=BigInt(0),w=Number(e%u);for(r.write(new Uint8Array([w]));++i<t;)e<0&&p===BigInt(0)&&w!==0&&(p=BigInt(1)),w=Number((e/u-p)%BigInt(256)),r.write(new Uint8Array([w])),u*=BigInt(256);return r.buffer}function rs(e,t){let r=BigInt(si(e)),i=BigInt(1),u=0;for(;++u<t;){i*=BigInt(256);const p=BigInt(si(e));r=r+i*p}return r}function Mo(e,t){let r=rs(e,t);const i=BigInt(2)**(BigInt(8)*BigInt(t-1)+BigInt(7));return r>=i&&(r-=i*BigInt(2)),r}function pn(e){const t=BigInt(e);if(e<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<t}const ai=400;class ns{display(){return this.name}valueToString(t){return Qe(t)}buildTypeTable(t){t.has(this)||this._buildTypeTableImpl(t)}}class Ln extends ns{checkType(t){if(this.name!==t.name)throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`);return t}_buildTypeTableImpl(t){}}class Co extends ns{checkType(t){if(t instanceof Or){const r=t.getType();if(typeof r>"u")throw new Error("type mismatch with uninitialized type");return r}throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`)}encodeType(t){return t.indexOf(this.name)}}class is extends Ln{constructor(t){if(super(),this._bits=t,t!==32&&t!==64)throw new Error("not a valid float type")}accept(t,r){return t.visitFloat(this,r)}covariant(t){if(typeof t=="number"||t instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${Qe(t)}`)}encodeValue(t){const r=new ArrayBuffer(this._bits/8),i=new DataView(r);return this._bits===32?i.setFloat32(0,t,!0):i.setFloat64(0,t,!0),r}encodeType(){const t=this._bits===32?-13:-14;return Rn(t)}decodeValue(t,r){this.checkType(r);const i=Oo(t,this._bits/8),u=new DataView(i);return this._bits===32?u.getFloat32(0,!0):u.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(t){return t.toString()}}class Rr extends Ln{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedInt(this,r)}covariant(t){const r=pn(this._bits-1)*BigInt(-1),i=pn(this._bits-1)-BigInt(1);let u=!1;if(typeof t=="bigint")u=t>=r&&t<=i;else if(Number.isInteger(t)){const p=BigInt(t);u=p>=r&&p<=i}else u=!1;if(u)return!0;throw new Error(`Invalid ${this.display()} argument: ${Qe(t)}`)}encodeValue(t){return es(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return Rn(-9-t)}decodeValue(t,r){this.checkType(r);const i=Mo(t,this._bits/8);return this._bits<=32?Number(i):i}get name(){return`int${this._bits}`}valueToString(t){return t.toString()}}class Lr extends Ln{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedNat(this,r)}covariant(t){const r=pn(this._bits);let i=!1;if(typeof t=="bigint"&&t>=BigInt(0)?i=t<r:Number.isInteger(t)&&t>=0?i=BigInt(t)<r:i=!1,i)return!0;throw new Error(`Invalid ${this.display()} argument: ${Qe(t)}`)}encodeValue(t){return Do(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return Rn(-5-t)}decodeValue(t,r){this.checkType(r);const i=rs(t,this._bits/8);return this._bits<=32?Number(i):i}get name(){return`nat${this._bits}`}valueToString(t){return t.toString()}}class Or extends Co{constructor(){super(...arguments),this._id=Or._counter++,this._type=void 0}accept(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return t.visitRec(this,this._type,r)}fill(t){this._type=t}getType(){return this._type}covariant(t){if(this._type&&this._type.covariant(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${Qe(t)}`)}encodeValue(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(t)}_buildTypeTableImpl(t){if(!this._type)throw Error("Recursive type uninitialized.");t.add(this,new Uint8Array([])),this._type.buildTypeTable(t),t.merge(this,this._type.name)}decodeValue(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(t,r)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`μ${this.name}.${this._type.name}`}valueToString(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(t)}}Or._counter=0;function Qe(e){const t=JSON.stringify(e,(r,i)=>typeof i=="bigint"?`BigInt(${i})`:i);return t&&t.length>ai?t.substring(0,ai-3)+"...":t}new is(32);new is(64);new Rr(8);new Rr(16);new Rr(32);new Rr(64);new Lr(8);new Lr(16);new Lr(32);new Lr(64);var ss={},tr={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=Je,r=Ze,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=ut,e.INSPECT_MAX_BYTES=50;var u=2147483647;e.kMaxLength=u,c.TYPED_ARRAY_SUPPORT=p(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function p(){try{var f=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(f,n),f.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function w(f){if(f>u)throw new RangeError('The value "'+f+'" is invalid for option "size"');var n=new Uint8Array(f);return Object.setPrototypeOf(n,c.prototype),n}function c(f,n,s){if(typeof f=="number"){if(typeof n=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return O(f)}return _(f,n,s)}c.poolSize=8192;function _(f,n,s){if(typeof f=="string")return k(f,n);if(ArrayBuffer.isView(f))return rt(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(N(f,ArrayBuffer)||f&&N(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(N(f,SharedArrayBuffer)||f&&N(f.buffer,SharedArrayBuffer)))return et(f,n,s);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var h=f.valueOf&&f.valueOf();if(h!=null&&h!==f)return c.from(h,n,s);var g=ht(f);if(g)return g;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return c.from(f[Symbol.toPrimitive]("string"),n,s);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}c.from=function(f,n,s){return _(f,n,s)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function I(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function F(f,n,s){return I(f),f<=0?w(f):n!==void 0?typeof s=="string"?w(f).fill(n,s):w(f).fill(n):w(f)}c.alloc=function(f,n,s){return F(f,n,s)};function O(f){return I(f),w(f<0?0:St(f)|0)}c.allocUnsafe=function(f){return O(f)},c.allocUnsafeSlow=function(f){return O(f)};function k(f,n){if((typeof n!="string"||n==="")&&(n="utf8"),!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var s=Q(f,n)|0,h=w(s),g=h.write(f,n);return g!==s&&(h=h.slice(0,g)),h}function C(f){for(var n=f.length<0?0:St(f.length)|0,s=w(n),h=0;h<n;h+=1)s[h]=f[h]&255;return s}function rt(f){if(N(f,Uint8Array)){var n=new Uint8Array(f);return et(n.buffer,n.byteOffset,n.byteLength)}return C(f)}function et(f,n,s){if(n<0||f.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<n+(s||0))throw new RangeError('"length" is outside of buffer bounds');var h;return n===void 0&&s===void 0?h=new Uint8Array(f):s===void 0?h=new Uint8Array(f,n):h=new Uint8Array(f,n,s),Object.setPrototypeOf(h,c.prototype),h}function ht(f){if(c.isBuffer(f)){var n=St(f.length)|0,s=w(n);return s.length===0||f.copy(s,0,0,n),s}if(f.length!==void 0)return typeof f.length!="number"||S(f.length)?w(0):C(f);if(f.type==="Buffer"&&Array.isArray(f.data))return C(f.data)}function St(f){if(f>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return f|0}function ut(f){return+f!=f&&(f=0),c.alloc(+f)}c.isBuffer=function(n){return n!=null&&n._isBuffer===!0&&n!==c.prototype},c.compare=function(n,s){if(N(n,Uint8Array)&&(n=c.from(n,n.offset,n.byteLength)),N(s,Uint8Array)&&(s=c.from(s,s.offset,s.byteLength)),!c.isBuffer(n)||!c.isBuffer(s))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===s)return 0;for(var h=n.length,g=s.length,b=0,v=Math.min(h,g);b<v;++b)if(n[b]!==s[b]){h=n[b],g=s[b];break}return h<g?-1:g<h?1:0},c.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(n,s){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return c.alloc(0);var h;if(s===void 0)for(s=0,h=0;h<n.length;++h)s+=n[h].length;var g=c.allocUnsafe(s),b=0;for(h=0;h<n.length;++h){var v=n[h];if(N(v,Uint8Array))b+v.length>g.length?c.from(v).copy(g,b):Uint8Array.prototype.set.call(g,v,b);else if(c.isBuffer(v))v.copy(g,b);else throw new TypeError('"list" argument must be an Array of Buffers');b+=v.length}return g};function Q(f,n){if(c.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||N(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);var s=f.length,h=arguments.length>2&&arguments[2]===!0;if(!h&&s===0)return 0;for(var g=!1;;)switch(n){case"ascii":case"latin1":case"binary":return s;case"utf8":case"utf-8":return z(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s*2;case"hex":return s>>>1;case"base64":return m(f).length;default:if(g)return h?-1:z(f).length;n=(""+n).toLowerCase(),g=!0}}c.byteLength=Q;function Nt(f,n,s){var h=!1;if((n===void 0||n<0)&&(n=0),n>this.length||((s===void 0||s>this.length)&&(s=this.length),s<=0)||(s>>>=0,n>>>=0,s<=n))return"";for(f||(f="utf8");;)switch(f){case"hex":return H(this,n,s);case"utf8":case"utf-8":return Ut(this,n,s);case"ascii":return Ot(this,n,s);case"latin1":case"binary":return Y(this,n,s);case"base64":return gt(this,n,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,n,s);default:if(h)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),h=!0}}c.prototype._isBuffer=!0;function X(f,n,s){var h=f[n];f[n]=f[s],f[s]=h}c.prototype.swap16=function(){var n=this.length;if(n%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var s=0;s<n;s+=2)X(this,s,s+1);return this},c.prototype.swap32=function(){var n=this.length;if(n%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var s=0;s<n;s+=4)X(this,s,s+3),X(this,s+1,s+2);return this},c.prototype.swap64=function(){var n=this.length;if(n%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var s=0;s<n;s+=8)X(this,s,s+7),X(this,s+1,s+6),X(this,s+2,s+5),X(this,s+3,s+4);return this},c.prototype.toString=function(){var n=this.length;return n===0?"":arguments.length===0?Ut(this,0,n):Nt.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(n){if(!c.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:c.compare(this,n)===0},c.prototype.inspect=function(){var n="",s=e.INSPECT_MAX_BYTES;return n=this.toString("hex",0,s).replace(/(.{2})/g,"$1 ").trim(),this.length>s&&(n+=" ... "),"<Buffer "+n+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(n,s,h,g,b){if(N(n,Uint8Array)&&(n=c.from(n,n.offset,n.byteLength)),!c.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(s===void 0&&(s=0),h===void 0&&(h=n?n.length:0),g===void 0&&(g=0),b===void 0&&(b=this.length),s<0||h>n.length||g<0||b>this.length)throw new RangeError("out of range index");if(g>=b&&s>=h)return 0;if(g>=b)return-1;if(s>=h)return 1;if(s>>>=0,h>>>=0,g>>>=0,b>>>=0,this===n)return 0;for(var v=b-g,M=h-s,K=Math.min(v,M),V=this.slice(g,b),ct=n.slice(s,h),l=0;l<K;++l)if(V[l]!==ct[l]){v=V[l],M=ct[l];break}return v<M?-1:M<v?1:0};function J(f,n,s,h,g){if(f.length===0)return-1;if(typeof s=="string"?(h=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),s=+s,S(s)&&(s=g?0:f.length-1),s<0&&(s=f.length+s),s>=f.length){if(g)return-1;s=f.length-1}else if(s<0)if(g)s=0;else return-1;if(typeof n=="string"&&(n=c.from(n,h)),c.isBuffer(n))return n.length===0?-1:Z(f,n,s,h,g);if(typeof n=="number")return n=n&255,typeof Uint8Array.prototype.indexOf=="function"?g?Uint8Array.prototype.indexOf.call(f,n,s):Uint8Array.prototype.lastIndexOf.call(f,n,s):Z(f,[n],s,h,g);throw new TypeError("val must be string, number or Buffer")}function Z(f,n,s,h,g){var b=1,v=f.length,M=n.length;if(h!==void 0&&(h=String(h).toLowerCase(),h==="ucs2"||h==="ucs-2"||h==="utf16le"||h==="utf-16le")){if(f.length<2||n.length<2)return-1;b=2,v/=2,M/=2,s/=2}function K(a,x){return b===1?a[x]:a.readUInt16BE(x*b)}var V;if(g){var ct=-1;for(V=s;V<v;V++)if(K(f,V)===K(n,ct===-1?0:V-ct)){if(ct===-1&&(ct=V),V-ct+1===M)return ct*b}else ct!==-1&&(V-=V-ct),ct=-1}else for(s+M>v&&(s=v-M),V=s;V>=0;V--){for(var l=!0,o=0;o<M;o++)if(K(f,V+o)!==K(n,o)){l=!1;break}if(l)return V}return-1}c.prototype.includes=function(n,s,h){return this.indexOf(n,s,h)!==-1},c.prototype.indexOf=function(n,s,h){return J(this,n,s,h,!0)},c.prototype.lastIndexOf=function(n,s,h){return J(this,n,s,h,!1)};function lt(f,n,s,h){s=Number(s)||0;var g=f.length-s;h?(h=Number(h),h>g&&(h=g)):h=g;var b=n.length;h>b/2&&(h=b/2);for(var v=0;v<h;++v){var M=parseInt(n.substr(v*2,2),16);if(S(M))return v;f[s+v]=M}return v}function wt(f,n,s,h){return E(z(n,f.length-s),f,s,h)}function P(f,n,s,h){return E(q(n),f,s,h)}function bt(f,n,s,h){return E(m(n),f,s,h)}function xt(f,n,s,h){return E(y(n,f.length-s),f,s,h)}c.prototype.write=function(n,s,h,g){if(s===void 0)g="utf8",h=this.length,s=0;else if(h===void 0&&typeof s=="string")g=s,h=this.length,s=0;else if(isFinite(s))s=s>>>0,isFinite(h)?(h=h>>>0,g===void 0&&(g="utf8")):(g=h,h=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var b=this.length-s;if((h===void 0||h>b)&&(h=b),n.length>0&&(h<0||s<0)||s>this.length)throw new RangeError("Attempt to write outside buffer bounds");g||(g="utf8");for(var v=!1;;)switch(g){case"hex":return lt(this,n,s,h);case"utf8":case"utf-8":return wt(this,n,s,h);case"ascii":case"latin1":case"binary":return P(this,n,s,h);case"base64":return bt(this,n,s,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xt(this,n,s,h);default:if(v)throw new TypeError("Unknown encoding: "+g);g=(""+g).toLowerCase(),v=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function gt(f,n,s){return n===0&&s===f.length?t.fromByteArray(f):t.fromByteArray(f.slice(n,s))}function Ut(f,n,s){s=Math.min(f.length,s);for(var h=[],g=n;g<s;){var b=f[g],v=null,M=b>239?4:b>223?3:b>191?2:1;if(g+M<=s){var K,V,ct,l;switch(M){case 1:b<128&&(v=b);break;case 2:K=f[g+1],(K&192)===128&&(l=(b&31)<<6|K&63,l>127&&(v=l));break;case 3:K=f[g+1],V=f[g+2],(K&192)===128&&(V&192)===128&&(l=(b&15)<<12|(K&63)<<6|V&63,l>2047&&(l<55296||l>57343)&&(v=l));break;case 4:K=f[g+1],V=f[g+2],ct=f[g+3],(K&192)===128&&(V&192)===128&&(ct&192)===128&&(l=(b&15)<<18|(K&63)<<12|(V&63)<<6|ct&63,l>65535&&l<1114112&&(v=l))}}v===null?(v=65533,M=1):v>65535&&(v-=65536,h.push(v>>>10&1023|55296),v=56320|v&1023),h.push(v),g+=M}return $t(h)}var Bt=4096;function $t(f){var n=f.length;if(n<=Bt)return String.fromCharCode.apply(String,f);for(var s="",h=0;h<n;)s+=String.fromCharCode.apply(String,f.slice(h,h+=Bt));return s}function Ot(f,n,s){var h="";s=Math.min(f.length,s);for(var g=n;g<s;++g)h+=String.fromCharCode(f[g]&127);return h}function Y(f,n,s){var h="";s=Math.min(f.length,s);for(var g=n;g<s;++g)h+=String.fromCharCode(f[g]);return h}function H(f,n,s){var h=f.length;(!n||n<0)&&(n=0),(!s||s<0||s>h)&&(s=h);for(var g="",b=n;b<s;++b)g+=U[f[b]];return g}function W(f,n,s){for(var h=f.slice(n,s),g="",b=0;b<h.length-1;b+=2)g+=String.fromCharCode(h[b]+h[b+1]*256);return g}c.prototype.slice=function(n,s){var h=this.length;n=~~n,s=s===void 0?h:~~s,n<0?(n+=h,n<0&&(n=0)):n>h&&(n=h),s<0?(s+=h,s<0&&(s=0)):s>h&&(s=h),s<n&&(s=n);var g=this.subarray(n,s);return Object.setPrototypeOf(g,c.prototype),g};function $(f,n,s){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+n>s)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(n,s,h){n=n>>>0,s=s>>>0,h||$(n,s,this.length);for(var g=this[n],b=1,v=0;++v<s&&(b*=256);)g+=this[n+v]*b;return g},c.prototype.readUintBE=c.prototype.readUIntBE=function(n,s,h){n=n>>>0,s=s>>>0,h||$(n,s,this.length);for(var g=this[n+--s],b=1;s>0&&(b*=256);)g+=this[n+--s]*b;return g},c.prototype.readUint8=c.prototype.readUInt8=function(n,s){return n=n>>>0,s||$(n,1,this.length),this[n]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(n,s){return n=n>>>0,s||$(n,2,this.length),this[n]|this[n+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(n,s){return n=n>>>0,s||$(n,2,this.length),this[n]<<8|this[n+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(n,s){return n=n>>>0,s||$(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+this[n+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(n,s){return n=n>>>0,s||$(n,4,this.length),this[n]*16777216+(this[n+1]<<16|this[n+2]<<8|this[n+3])},c.prototype.readIntLE=function(n,s,h){n=n>>>0,s=s>>>0,h||$(n,s,this.length);for(var g=this[n],b=1,v=0;++v<s&&(b*=256);)g+=this[n+v]*b;return b*=128,g>=b&&(g-=Math.pow(2,8*s)),g},c.prototype.readIntBE=function(n,s,h){n=n>>>0,s=s>>>0,h||$(n,s,this.length);for(var g=s,b=1,v=this[n+--g];g>0&&(b*=256);)v+=this[n+--g]*b;return b*=128,v>=b&&(v-=Math.pow(2,8*s)),v},c.prototype.readInt8=function(n,s){return n=n>>>0,s||$(n,1,this.length),this[n]&128?(255-this[n]+1)*-1:this[n]},c.prototype.readInt16LE=function(n,s){n=n>>>0,s||$(n,2,this.length);var h=this[n]|this[n+1]<<8;return h&32768?h|4294901760:h},c.prototype.readInt16BE=function(n,s){n=n>>>0,s||$(n,2,this.length);var h=this[n+1]|this[n]<<8;return h&32768?h|4294901760:h},c.prototype.readInt32LE=function(n,s){return n=n>>>0,s||$(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},c.prototype.readInt32BE=function(n,s){return n=n>>>0,s||$(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},c.prototype.readFloatLE=function(n,s){return n=n>>>0,s||$(n,4,this.length),r.read(this,n,!0,23,4)},c.prototype.readFloatBE=function(n,s){return n=n>>>0,s||$(n,4,this.length),r.read(this,n,!1,23,4)},c.prototype.readDoubleLE=function(n,s){return n=n>>>0,s||$(n,8,this.length),r.read(this,n,!0,52,8)},c.prototype.readDoubleBE=function(n,s){return n=n>>>0,s||$(n,8,this.length),r.read(this,n,!1,52,8)};function G(f,n,s,h,g,b){if(!c.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>g||n<b)throw new RangeError('"value" argument is out of bounds');if(s+h>f.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(n,s,h,g){if(n=+n,s=s>>>0,h=h>>>0,!g){var b=Math.pow(2,8*h)-1;G(this,n,s,h,b,0)}var v=1,M=0;for(this[s]=n&255;++M<h&&(v*=256);)this[s+M]=n/v&255;return s+h},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(n,s,h,g){if(n=+n,s=s>>>0,h=h>>>0,!g){var b=Math.pow(2,8*h)-1;G(this,n,s,h,b,0)}var v=h-1,M=1;for(this[s+v]=n&255;--v>=0&&(M*=256);)this[s+v]=n/M&255;return s+h},c.prototype.writeUint8=c.prototype.writeUInt8=function(n,s,h){return n=+n,s=s>>>0,h||G(this,n,s,1,255,0),this[s]=n&255,s+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(n,s,h){return n=+n,s=s>>>0,h||G(this,n,s,2,65535,0),this[s]=n&255,this[s+1]=n>>>8,s+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(n,s,h){return n=+n,s=s>>>0,h||G(this,n,s,2,65535,0),this[s]=n>>>8,this[s+1]=n&255,s+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(n,s,h){return n=+n,s=s>>>0,h||G(this,n,s,4,4294967295,0),this[s+3]=n>>>24,this[s+2]=n>>>16,this[s+1]=n>>>8,this[s]=n&255,s+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(n,s,h){return n=+n,s=s>>>0,h||G(this,n,s,4,4294967295,0),this[s]=n>>>24,this[s+1]=n>>>16,this[s+2]=n>>>8,this[s+3]=n&255,s+4},c.prototype.writeIntLE=function(n,s,h,g){if(n=+n,s=s>>>0,!g){var b=Math.pow(2,8*h-1);G(this,n,s,h,b-1,-b)}var v=0,M=1,K=0;for(this[s]=n&255;++v<h&&(M*=256);)n<0&&K===0&&this[s+v-1]!==0&&(K=1),this[s+v]=(n/M>>0)-K&255;return s+h},c.prototype.writeIntBE=function(n,s,h,g){if(n=+n,s=s>>>0,!g){var b=Math.pow(2,8*h-1);G(this,n,s,h,b-1,-b)}var v=h-1,M=1,K=0;for(this[s+v]=n&255;--v>=0&&(M*=256);)n<0&&K===0&&this[s+v+1]!==0&&(K=1),this[s+v]=(n/M>>0)-K&255;return s+h},c.prototype.writeInt8=function(n,s,h){return n=+n,s=s>>>0,h||G(this,n,s,1,127,-128),n<0&&(n=255+n+1),this[s]=n&255,s+1},c.prototype.writeInt16LE=function(n,s,h){return n=+n,s=s>>>0,h||G(this,n,s,2,32767,-32768),this[s]=n&255,this[s+1]=n>>>8,s+2},c.prototype.writeInt16BE=function(n,s,h){return n=+n,s=s>>>0,h||G(this,n,s,2,32767,-32768),this[s]=n>>>8,this[s+1]=n&255,s+2},c.prototype.writeInt32LE=function(n,s,h){return n=+n,s=s>>>0,h||G(this,n,s,4,2147483647,-2147483648),this[s]=n&255,this[s+1]=n>>>8,this[s+2]=n>>>16,this[s+3]=n>>>24,s+4},c.prototype.writeInt32BE=function(n,s,h){return n=+n,s=s>>>0,h||G(this,n,s,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[s]=n>>>24,this[s+1]=n>>>16,this[s+2]=n>>>8,this[s+3]=n&255,s+4};function pt(f,n,s,h,g,b){if(s+h>f.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("Index out of range")}function d(f,n,s,h,g){return n=+n,s=s>>>0,g||pt(f,n,s,4),r.write(f,n,s,h,23,4),s+4}c.prototype.writeFloatLE=function(n,s,h){return d(this,n,s,!0,h)},c.prototype.writeFloatBE=function(n,s,h){return d(this,n,s,!1,h)};function mt(f,n,s,h,g){return n=+n,s=s>>>0,g||pt(f,n,s,8),r.write(f,n,s,h,52,8),s+8}c.prototype.writeDoubleLE=function(n,s,h){return mt(this,n,s,!0,h)},c.prototype.writeDoubleBE=function(n,s,h){return mt(this,n,s,!1,h)},c.prototype.copy=function(n,s,h,g){if(!c.isBuffer(n))throw new TypeError("argument should be a Buffer");if(h||(h=0),!g&&g!==0&&(g=this.length),s>=n.length&&(s=n.length),s||(s=0),g>0&&g<h&&(g=h),g===h||n.length===0||this.length===0)return 0;if(s<0)throw new RangeError("targetStart out of bounds");if(h<0||h>=this.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("sourceEnd out of bounds");g>this.length&&(g=this.length),n.length-s<g-h&&(g=n.length-s+h);var b=g-h;return this===n&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(s,h,g):Uint8Array.prototype.set.call(n,this.subarray(h,g),s),b},c.prototype.fill=function(n,s,h,g){if(typeof n=="string"){if(typeof s=="string"?(g=s,s=0,h=this.length):typeof h=="string"&&(g=h,h=this.length),g!==void 0&&typeof g!="string")throw new TypeError("encoding must be a string");if(typeof g=="string"&&!c.isEncoding(g))throw new TypeError("Unknown encoding: "+g);if(n.length===1){var b=n.charCodeAt(0);(g==="utf8"&&b<128||g==="latin1")&&(n=b)}}else typeof n=="number"?n=n&255:typeof n=="boolean"&&(n=Number(n));if(s<0||this.length<s||this.length<h)throw new RangeError("Out of range index");if(h<=s)return this;s=s>>>0,h=h===void 0?this.length:h>>>0,n||(n=0);var v;if(typeof n=="number")for(v=s;v<h;++v)this[v]=n;else{var M=c.isBuffer(n)?n:c.from(n,g),K=M.length;if(K===0)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(v=0;v<h-s;++v)this[v+s]=M[v%K]}return this};var dt=/[^+/0-9A-Za-z-_]/g;function At(f){if(f=f.split("=")[0],f=f.trim().replace(dt,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function z(f,n){n=n||1/0;for(var s,h=f.length,g=null,b=[],v=0;v<h;++v){if(s=f.charCodeAt(v),s>55295&&s<57344){if(!g){if(s>56319){(n-=3)>-1&&b.push(239,191,189);continue}else if(v+1===h){(n-=3)>-1&&b.push(239,191,189);continue}g=s;continue}if(s<56320){(n-=3)>-1&&b.push(239,191,189),g=s;continue}s=(g-55296<<10|s-56320)+65536}else g&&(n-=3)>-1&&b.push(239,191,189);if(g=null,s<128){if((n-=1)<0)break;b.push(s)}else if(s<2048){if((n-=2)<0)break;b.push(s>>6|192,s&63|128)}else if(s<65536){if((n-=3)<0)break;b.push(s>>12|224,s>>6&63|128,s&63|128)}else if(s<1114112){if((n-=4)<0)break;b.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else throw new Error("Invalid code point")}return b}function q(f){for(var n=[],s=0;s<f.length;++s)n.push(f.charCodeAt(s)&255);return n}function y(f,n){for(var s,h,g,b=[],v=0;v<f.length&&!((n-=2)<0);++v)s=f.charCodeAt(v),h=s>>8,g=s%256,b.push(g),b.push(h);return b}function m(f){return t.toByteArray(At(f))}function E(f,n,s,h){for(var g=0;g<h&&!(g+s>=n.length||g>=f.length);++g)n[g+s]=f[g];return g}function N(f,n){return f instanceof n||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===n.name}function S(f){return f!==f}var U=function(){for(var f="0123456789abcdef",n=new Array(256),s=0;s<16;++s)for(var h=s*16,g=0;g<16;++g)n[h+g]=f[s]+f[g];return n}()})(tr);var os={exports:{}};(function(e){(function(t){var r,i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,u=Math.ceil,p=Math.floor,w="[BigNumber Error] ",c=w+"Number primitive has more than 15 significant digits: ",_=1e14,I=14,F=9007199254740991,O=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],k=1e7,C=1e9;function rt(J){var Z,lt,wt,P=d.prototype={constructor:d,toString:null,valueOf:null},bt=new d(1),xt=20,gt=4,Ut=-7,Bt=21,$t=-1e7,Ot=1e7,Y=!1,H=1,W=0,$={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},G="0123456789abcdefghijklmnopqrstuvwxyz",pt=!0;function d(y,m){var E,N,S,U,f,n,s,h,g=this;if(!(g instanceof d))return new d(y,m);if(m==null){if(y&&y._isBigNumber===!0){g.s=y.s,!y.c||y.e>Ot?g.c=g.e=null:y.e<$t?g.c=[g.e=0]:(g.e=y.e,g.c=y.c.slice());return}if((n=typeof y=="number")&&y*0==0){if(g.s=1/y<0?(y=-y,-1):1,y===~~y){for(U=0,f=y;f>=10;f/=10,U++);U>Ot?g.c=g.e=null:(g.e=U,g.c=[y]);return}h=String(y)}else{if(!i.test(h=String(y)))return wt(g,h,n);g.s=h.charCodeAt(0)==45?(h=h.slice(1),-1):1}(U=h.indexOf("."))>-1&&(h=h.replace(".","")),(f=h.search(/e/i))>0?(U<0&&(U=f),U+=+h.slice(f+1),h=h.substring(0,f)):U<0&&(U=h.length)}else{if(ut(m,2,G.length,"Base"),m==10&&pt)return g=new d(y),z(g,xt+g.e+1,gt);if(h=String(y),n=typeof y=="number"){if(y*0!=0)return wt(g,h,n,m);if(g.s=1/y<0?(h=h.slice(1),-1):1,d.DEBUG&&h.replace(/^0\.0*|\./,"").length>15)throw Error(c+y)}else g.s=h.charCodeAt(0)===45?(h=h.slice(1),-1):1;for(E=G.slice(0,m),U=f=0,s=h.length;f<s;f++)if(E.indexOf(N=h.charAt(f))<0){if(N=="."){if(f>U){U=s;continue}}else if(!S&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){S=!0,f=-1,U=0;continue}return wt(g,String(y),n,m)}n=!1,h=lt(h,m,10,g.s),(U=h.indexOf("."))>-1?h=h.replace(".",""):U=h.length}for(f=0;h.charCodeAt(f)===48;f++);for(s=h.length;h.charCodeAt(--s)===48;);if(h=h.slice(f,++s)){if(s-=f,n&&d.DEBUG&&s>15&&(y>F||y!==p(y)))throw Error(c+g.s*y);if((U=U-f-1)>Ot)g.c=g.e=null;else if(U<$t)g.c=[g.e=0];else{if(g.e=U,g.c=[],f=(U+1)%I,U<0&&(f+=I),f<s){for(f&&g.c.push(+h.slice(0,f)),s-=I;f<s;)g.c.push(+h.slice(f,f+=I));f=I-(h=h.slice(f)).length}else f-=s;for(;f--;h+="0");g.c.push(+h)}}else g.c=[g.e=0]}d.clone=rt,d.ROUND_UP=0,d.ROUND_DOWN=1,d.ROUND_CEIL=2,d.ROUND_FLOOR=3,d.ROUND_HALF_UP=4,d.ROUND_HALF_DOWN=5,d.ROUND_HALF_EVEN=6,d.ROUND_HALF_CEIL=7,d.ROUND_HALF_FLOOR=8,d.EUCLID=9,d.config=d.set=function(y){var m,E;if(y!=null)if(typeof y=="object"){if(y.hasOwnProperty(m="DECIMAL_PLACES")&&(E=y[m],ut(E,0,C,m),xt=E),y.hasOwnProperty(m="ROUNDING_MODE")&&(E=y[m],ut(E,0,8,m),gt=E),y.hasOwnProperty(m="EXPONENTIAL_AT")&&(E=y[m],E&&E.pop?(ut(E[0],-C,0,m),ut(E[1],0,C,m),Ut=E[0],Bt=E[1]):(ut(E,-C,C,m),Ut=-(Bt=E<0?-E:E))),y.hasOwnProperty(m="RANGE"))if(E=y[m],E&&E.pop)ut(E[0],-C,-1,m),ut(E[1],1,C,m),$t=E[0],Ot=E[1];else if(ut(E,-C,C,m),E)$t=-(Ot=E<0?-E:E);else throw Error(w+m+" cannot be zero: "+E);if(y.hasOwnProperty(m="CRYPTO"))if(E=y[m],E===!!E)if(E)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Y=E;else throw Y=!E,Error(w+"crypto unavailable");else Y=E;else throw Error(w+m+" not true or false: "+E);if(y.hasOwnProperty(m="MODULO_MODE")&&(E=y[m],ut(E,0,9,m),H=E),y.hasOwnProperty(m="POW_PRECISION")&&(E=y[m],ut(E,0,C,m),W=E),y.hasOwnProperty(m="FORMAT"))if(E=y[m],typeof E=="object")$=E;else throw Error(w+m+" not an object: "+E);if(y.hasOwnProperty(m="ALPHABET"))if(E=y[m],typeof E=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(E))pt=E.slice(0,10)=="0123456789",G=E;else throw Error(w+m+" invalid: "+E)}else throw Error(w+"Object expected: "+y);return{DECIMAL_PLACES:xt,ROUNDING_MODE:gt,EXPONENTIAL_AT:[Ut,Bt],RANGE:[$t,Ot],CRYPTO:Y,MODULO_MODE:H,POW_PRECISION:W,FORMAT:$,ALPHABET:G}},d.isBigNumber=function(y){if(!y||y._isBigNumber!==!0)return!1;if(!d.DEBUG)return!0;var m,E,N=y.c,S=y.e,U=y.s;t:if({}.toString.call(N)=="[object Array]"){if((U===1||U===-1)&&S>=-C&&S<=C&&S===p(S)){if(N[0]===0){if(S===0&&N.length===1)return!0;break t}if(m=(S+1)%I,m<1&&(m+=I),String(N[0]).length==m){for(m=0;m<N.length;m++)if(E=N[m],E<0||E>=_||E!==p(E))break t;if(E!==0)return!0}}}else if(N===null&&S===null&&(U===null||U===1||U===-1))return!0;throw Error(w+"Invalid BigNumber: "+y)},d.maximum=d.max=function(){return dt(arguments,-1)},d.minimum=d.min=function(){return dt(arguments,1)},d.random=function(){var y=9007199254740992,m=Math.random()*y&2097151?function(){return p(Math.random()*y)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(E){var N,S,U,f,n,s=0,h=[],g=new d(bt);if(E==null?E=xt:ut(E,0,C),f=u(E/I),Y)if(crypto.getRandomValues){for(N=crypto.getRandomValues(new Uint32Array(f*=2));s<f;)n=N[s]*131072+(N[s+1]>>>11),n>=9e15?(S=crypto.getRandomValues(new Uint32Array(2)),N[s]=S[0],N[s+1]=S[1]):(h.push(n%1e14),s+=2);s=f/2}else if(crypto.randomBytes){for(N=crypto.randomBytes(f*=7);s<f;)n=(N[s]&31)*281474976710656+N[s+1]*1099511627776+N[s+2]*4294967296+N[s+3]*16777216+(N[s+4]<<16)+(N[s+5]<<8)+N[s+6],n>=9e15?crypto.randomBytes(7).copy(N,s):(h.push(n%1e14),s+=7);s=f/7}else throw Y=!1,Error(w+"crypto unavailable");if(!Y)for(;s<f;)n=m(),n<9e15&&(h[s++]=n%1e14);for(f=h[--s],E%=I,f&&E&&(n=O[I-E],h[s]=p(f/n)*n);h[s]===0;h.pop(),s--);if(s<0)h=[U=0];else{for(U=-1;h[0]===0;h.splice(0,1),U-=I);for(s=1,n=h[0];n>=10;n/=10,s++);s<I&&(U-=I-s)}return g.e=U,g.c=h,g}}(),d.sum=function(){for(var y=1,m=arguments,E=new d(m[0]);y<m.length;)E=E.plus(m[y++]);return E},lt=function(){var y="0123456789";function m(E,N,S,U){for(var f,n=[0],s,h=0,g=E.length;h<g;){for(s=n.length;s--;n[s]*=N);for(n[0]+=U.indexOf(E.charAt(h++)),f=0;f<n.length;f++)n[f]>S-1&&(n[f+1]==null&&(n[f+1]=0),n[f+1]+=n[f]/S|0,n[f]%=S)}return n.reverse()}return function(E,N,S,U,f){var n,s,h,g,b,v,M,K,V=E.indexOf("."),ct=xt,l=gt;for(V>=0&&(g=W,W=0,E=E.replace(".",""),K=new d(N),v=K.pow(E.length-V),W=g,K.c=m(X(ht(v.c),v.e,"0"),10,S,y),K.e=K.c.length),M=m(E,N,S,f?(n=G,y):(n=y,G)),h=g=M.length;M[--g]==0;M.pop());if(!M[0])return n.charAt(0);if(V<0?--h:(v.c=M,v.e=h,v.s=U,v=Z(v,K,ct,l,S),M=v.c,b=v.r,h=v.e),s=h+ct+1,V=M[s],g=S/2,b=b||s<0||M[s+1]!=null,b=l<4?(V!=null||b)&&(l==0||l==(v.s<0?3:2)):V>g||V==g&&(l==4||b||l==6&&M[s-1]&1||l==(v.s<0?8:7)),s<1||!M[0])E=b?X(n.charAt(1),-ct,n.charAt(0)):n.charAt(0);else{if(M.length=s,b)for(--S;++M[--s]>S;)M[s]=0,s||(++h,M=[1].concat(M));for(g=M.length;!M[--g];);for(V=0,E="";V<=g;E+=n.charAt(M[V++]));E=X(E,h,n.charAt(0))}return E}}(),Z=function(){function y(N,S,U){var f,n,s,h,g=0,b=N.length,v=S%k,M=S/k|0;for(N=N.slice();b--;)s=N[b]%k,h=N[b]/k|0,f=M*s+h*v,n=v*s+f%k*k+g,g=(n/U|0)+(f/k|0)+M*h,N[b]=n%U;return g&&(N=[g].concat(N)),N}function m(N,S,U,f){var n,s;if(U!=f)s=U>f?1:-1;else for(n=s=0;n<U;n++)if(N[n]!=S[n]){s=N[n]>S[n]?1:-1;break}return s}function E(N,S,U,f){for(var n=0;U--;)N[U]-=n,n=N[U]<S[U]?1:0,N[U]=n*f+N[U]-S[U];for(;!N[0]&&N.length>1;N.splice(0,1));}return function(N,S,U,f,n){var s,h,g,b,v,M,K,V,ct,l,o,a,x,T,L,R,it,_t=N.s==S.s?1:-1,ft=N.c,ot=S.c;if(!ft||!ft[0]||!ot||!ot[0])return new d(!N.s||!S.s||(ft?ot&&ft[0]==ot[0]:!ot)?NaN:ft&&ft[0]==0||!ot?_t*0:_t/0);for(V=new d(_t),ct=V.c=[],h=N.e-S.e,_t=U+h+1,n||(n=_,h=et(N.e/I)-et(S.e/I),_t=_t/I|0),g=0;ot[g]==(ft[g]||0);g++);if(ot[g]>(ft[g]||0)&&h--,_t<0)ct.push(1),b=!0;else{for(T=ft.length,R=ot.length,g=0,_t+=2,v=p(n/(ot[0]+1)),v>1&&(ot=y(ot,v,n),ft=y(ft,v,n),R=ot.length,T=ft.length),x=R,l=ft.slice(0,R),o=l.length;o<R;l[o++]=0);it=ot.slice(),it=[0].concat(it),L=ot[0],ot[1]>=n/2&&L++;do{if(v=0,s=m(ot,l,R,o),s<0){if(a=l[0],R!=o&&(a=a*n+(l[1]||0)),v=p(a/L),v>1)for(v>=n&&(v=n-1),M=y(ot,v,n),K=M.length,o=l.length;m(M,l,K,o)==1;)v--,E(M,R<K?it:ot,K,n),K=M.length,s=1;else v==0&&(s=v=1),M=ot.slice(),K=M.length;if(K<o&&(M=[0].concat(M)),E(l,M,o,n),o=l.length,s==-1)for(;m(ot,l,R,o)<1;)v++,E(l,R<o?it:ot,o,n),o=l.length}else s===0&&(v++,l=[0]);ct[g++]=v,l[0]?l[o++]=ft[x]||0:(l=[ft[x]],o=1)}while((x++<T||l[0]!=null)&&_t--);b=l[0]!=null,ct[0]||ct.splice(0,1)}if(n==_){for(g=1,_t=ct[0];_t>=10;_t/=10,g++);z(V,U+(V.e=g+h*I-1)+1,f,b)}else V.e=h,V.r=+b;return V}}();function mt(y,m,E,N){var S,U,f,n,s;if(E==null?E=gt:ut(E,0,8),!y.c)return y.toString();if(S=y.c[0],f=y.e,m==null)s=ht(y.c),s=N==1||N==2&&(f<=Ut||f>=Bt)?Nt(s,f):X(s,f,"0");else if(y=z(new d(y),m,E),U=y.e,s=ht(y.c),n=s.length,N==1||N==2&&(m<=U||U<=Ut)){for(;n<m;s+="0",n++);s=Nt(s,U)}else if(m-=f,s=X(s,U,"0"),U+1>n){if(--m>0)for(s+=".";m--;s+="0");}else if(m+=U-n,m>0)for(U+1==n&&(s+=".");m--;s+="0");return y.s<0&&S?"-"+s:s}function dt(y,m){for(var E,N,S=1,U=new d(y[0]);S<y.length;S++)N=new d(y[S]),(!N.s||(E=St(U,N))===m||E===0&&U.s===m)&&(U=N);return U}function At(y,m,E){for(var N=1,S=m.length;!m[--S];m.pop());for(S=m[0];S>=10;S/=10,N++);return(E=N+E*I-1)>Ot?y.c=y.e=null:E<$t?y.c=[y.e=0]:(y.e=E,y.c=m),y}wt=function(){var y=/^(-?)0([xbo])(?=\w[\w.]*$)/i,m=/^([^.]+)\.$/,E=/^\.([^.]+)$/,N=/^-?(Infinity|NaN)$/,S=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(U,f,n,s){var h,g=n?f:f.replace(S,"");if(N.test(g))U.s=isNaN(g)?null:g<0?-1:1;else{if(!n&&(g=g.replace(y,function(b,v,M){return h=(M=M.toLowerCase())=="x"?16:M=="b"?2:8,!s||s==h?v:b}),s&&(h=s,g=g.replace(m,"$1").replace(E,"0.$1")),f!=g))return new d(g,h);if(d.DEBUG)throw Error(w+"Not a"+(s?" base "+s:"")+" number: "+f);U.s=null}U.c=U.e=null}}();function z(y,m,E,N){var S,U,f,n,s,h,g,b=y.c,v=O;if(b){t:{for(S=1,n=b[0];n>=10;n/=10,S++);if(U=m-S,U<0)U+=I,f=m,s=b[h=0],g=p(s/v[S-f-1]%10);else if(h=u((U+1)/I),h>=b.length)if(N){for(;b.length<=h;b.push(0));s=g=0,S=1,U%=I,f=U-I+1}else break t;else{for(s=n=b[h],S=1;n>=10;n/=10,S++);U%=I,f=U-I+S,g=f<0?0:p(s/v[S-f-1]%10)}if(N=N||m<0||b[h+1]!=null||(f<0?s:s%v[S-f-1]),N=E<4?(g||N)&&(E==0||E==(y.s<0?3:2)):g>5||g==5&&(E==4||N||E==6&&(U>0?f>0?s/v[S-f]:0:b[h-1])%10&1||E==(y.s<0?8:7)),m<1||!b[0])return b.length=0,N?(m-=y.e+1,b[0]=v[(I-m%I)%I],y.e=-m||0):b[0]=y.e=0,y;if(U==0?(b.length=h,n=1,h--):(b.length=h+1,n=v[I-U],b[h]=f>0?p(s/v[S-f]%v[f])*n:0),N)for(;;)if(h==0){for(U=1,f=b[0];f>=10;f/=10,U++);for(f=b[0]+=n,n=1;f>=10;f/=10,n++);U!=n&&(y.e++,b[0]==_&&(b[0]=1));break}else{if(b[h]+=n,b[h]!=_)break;b[h--]=0,n=1}for(U=b.length;b[--U]===0;b.pop());}y.e>Ot?y.c=y.e=null:y.e<$t&&(y.c=[y.e=0])}return y}function q(y){var m,E=y.e;return E===null?y.toString():(m=ht(y.c),m=E<=Ut||E>=Bt?Nt(m,E):X(m,E,"0"),y.s<0?"-"+m:m)}return P.absoluteValue=P.abs=function(){var y=new d(this);return y.s<0&&(y.s=1),y},P.comparedTo=function(y,m){return St(this,new d(y,m))},P.decimalPlaces=P.dp=function(y,m){var E,N,S,U=this;if(y!=null)return ut(y,0,C),m==null?m=gt:ut(m,0,8),z(new d(U),y+U.e+1,m);if(!(E=U.c))return null;if(N=((S=E.length-1)-et(this.e/I))*I,S=E[S])for(;S%10==0;S/=10,N--);return N<0&&(N=0),N},P.dividedBy=P.div=function(y,m){return Z(this,new d(y,m),xt,gt)},P.dividedToIntegerBy=P.idiv=function(y,m){return Z(this,new d(y,m),0,1)},P.exponentiatedBy=P.pow=function(y,m){var E,N,S,U,f,n,s,h,g,b=this;if(y=new d(y),y.c&&!y.isInteger())throw Error(w+"Exponent not an integer: "+q(y));if(m!=null&&(m=new d(m)),n=y.e>14,!b.c||!b.c[0]||b.c[0]==1&&!b.e&&b.c.length==1||!y.c||!y.c[0])return g=new d(Math.pow(+q(b),n?y.s*(2-Q(y)):+q(y))),m?g.mod(m):g;if(s=y.s<0,m){if(m.c?!m.c[0]:!m.s)return new d(NaN);N=!s&&b.isInteger()&&m.isInteger(),N&&(b=b.mod(m))}else{if(y.e>9&&(b.e>0||b.e<-1||(b.e==0?b.c[0]>1||n&&b.c[1]>=24e7:b.c[0]<8e13||n&&b.c[0]<=9999975e7)))return U=b.s<0&&Q(y)?-0:0,b.e>-1&&(U=1/U),new d(s?1/U:U);W&&(U=u(W/I+2))}for(n?(E=new d(.5),s&&(y.s=1),h=Q(y)):(S=Math.abs(+q(y)),h=S%2),g=new d(bt);;){if(h){if(g=g.times(b),!g.c)break;U?g.c.length>U&&(g.c.length=U):N&&(g=g.mod(m))}if(S){if(S=p(S/2),S===0)break;h=S%2}else if(y=y.times(E),z(y,y.e+1,1),y.e>14)h=Q(y);else{if(S=+q(y),S===0)break;h=S%2}b=b.times(b),U?b.c&&b.c.length>U&&(b.c.length=U):N&&(b=b.mod(m))}return N?g:(s&&(g=bt.div(g)),m?g.mod(m):U?z(g,W,gt,f):g)},P.integerValue=function(y){var m=new d(this);return y==null?y=gt:ut(y,0,8),z(m,m.e+1,y)},P.isEqualTo=P.eq=function(y,m){return St(this,new d(y,m))===0},P.isFinite=function(){return!!this.c},P.isGreaterThan=P.gt=function(y,m){return St(this,new d(y,m))>0},P.isGreaterThanOrEqualTo=P.gte=function(y,m){return(m=St(this,new d(y,m)))===1||m===0},P.isInteger=function(){return!!this.c&&et(this.e/I)>this.c.length-2},P.isLessThan=P.lt=function(y,m){return St(this,new d(y,m))<0},P.isLessThanOrEqualTo=P.lte=function(y,m){return(m=St(this,new d(y,m)))===-1||m===0},P.isNaN=function(){return!this.s},P.isNegative=function(){return this.s<0},P.isPositive=function(){return this.s>0},P.isZero=function(){return!!this.c&&this.c[0]==0},P.minus=function(y,m){var E,N,S,U,f=this,n=f.s;if(y=new d(y,m),m=y.s,!n||!m)return new d(NaN);if(n!=m)return y.s=-m,f.plus(y);var s=f.e/I,h=y.e/I,g=f.c,b=y.c;if(!s||!h){if(!g||!b)return g?(y.s=-m,y):new d(b?f:NaN);if(!g[0]||!b[0])return b[0]?(y.s=-m,y):new d(g[0]?f:gt==3?-0:0)}if(s=et(s),h=et(h),g=g.slice(),n=s-h){for((U=n<0)?(n=-n,S=g):(h=s,S=b),S.reverse(),m=n;m--;S.push(0));S.reverse()}else for(N=(U=(n=g.length)<(m=b.length))?n:m,n=m=0;m<N;m++)if(g[m]!=b[m]){U=g[m]<b[m];break}if(U&&(S=g,g=b,b=S,y.s=-y.s),m=(N=b.length)-(E=g.length),m>0)for(;m--;g[E++]=0);for(m=_-1;N>n;){if(g[--N]<b[N]){for(E=N;E&&!g[--E];g[E]=m);--g[E],g[N]+=_}g[N]-=b[N]}for(;g[0]==0;g.splice(0,1),--h);return g[0]?At(y,g,h):(y.s=gt==3?-1:1,y.c=[y.e=0],y)},P.modulo=P.mod=function(y,m){var E,N,S=this;return y=new d(y,m),!S.c||!y.s||y.c&&!y.c[0]?new d(NaN):!y.c||S.c&&!S.c[0]?new d(S):(H==9?(N=y.s,y.s=1,E=Z(S,y,0,3),y.s=N,E.s*=N):E=Z(S,y,0,H),y=S.minus(E.times(y)),!y.c[0]&&H==1&&(y.s=S.s),y)},P.multipliedBy=P.times=function(y,m){var E,N,S,U,f,n,s,h,g,b,v,M,K,V,ct,l=this,o=l.c,a=(y=new d(y,m)).c;if(!o||!a||!o[0]||!a[0])return!l.s||!y.s||o&&!o[0]&&!a||a&&!a[0]&&!o?y.c=y.e=y.s=null:(y.s*=l.s,!o||!a?y.c=y.e=null:(y.c=[0],y.e=0)),y;for(N=et(l.e/I)+et(y.e/I),y.s*=l.s,s=o.length,b=a.length,s<b&&(K=o,o=a,a=K,S=s,s=b,b=S),S=s+b,K=[];S--;K.push(0));for(V=_,ct=k,S=b;--S>=0;){for(E=0,v=a[S]%ct,M=a[S]/ct|0,f=s,U=S+f;U>S;)h=o[--f]%ct,g=o[f]/ct|0,n=M*h+g*v,h=v*h+n%ct*ct+K[U]+E,E=(h/V|0)+(n/ct|0)+M*g,K[U--]=h%V;K[U]=E}return E?++N:K.splice(0,1),At(y,K,N)},P.negated=function(){var y=new d(this);return y.s=-y.s||null,y},P.plus=function(y,m){var E,N=this,S=N.s;if(y=new d(y,m),m=y.s,!S||!m)return new d(NaN);if(S!=m)return y.s=-m,N.minus(y);var U=N.e/I,f=y.e/I,n=N.c,s=y.c;if(!U||!f){if(!n||!s)return new d(S/0);if(!n[0]||!s[0])return s[0]?y:new d(n[0]?N:S*0)}if(U=et(U),f=et(f),n=n.slice(),S=U-f){for(S>0?(f=U,E=s):(S=-S,E=n),E.reverse();S--;E.push(0));E.reverse()}for(S=n.length,m=s.length,S-m<0&&(E=s,s=n,n=E,m=S),S=0;m;)S=(n[--m]=n[m]+s[m]+S)/_|0,n[m]=_===n[m]?0:n[m]%_;return S&&(n=[S].concat(n),++f),At(y,n,f)},P.precision=P.sd=function(y,m){var E,N,S,U=this;if(y!=null&&y!==!!y)return ut(y,1,C),m==null?m=gt:ut(m,0,8),z(new d(U),y,m);if(!(E=U.c))return null;if(S=E.length-1,N=S*I+1,S=E[S]){for(;S%10==0;S/=10,N--);for(S=E[0];S>=10;S/=10,N++);}return y&&U.e+1>N&&(N=U.e+1),N},P.shiftedBy=function(y){return ut(y,-F,F),this.times("1e"+y)},P.squareRoot=P.sqrt=function(){var y,m,E,N,S,U=this,f=U.c,n=U.s,s=U.e,h=xt+4,g=new d("0.5");if(n!==1||!f||!f[0])return new d(!n||n<0&&(!f||f[0])?NaN:f?U:1/0);if(n=Math.sqrt(+q(U)),n==0||n==1/0?(m=ht(f),(m.length+s)%2==0&&(m+="0"),n=Math.sqrt(+m),s=et((s+1)/2)-(s<0||s%2),n==1/0?m="5e"+s:(m=n.toExponential(),m=m.slice(0,m.indexOf("e")+1)+s),E=new d(m)):E=new d(n+""),E.c[0]){for(s=E.e,n=s+h,n<3&&(n=0);;)if(S=E,E=g.times(S.plus(Z(U,S,h,1))),ht(S.c).slice(0,n)===(m=ht(E.c)).slice(0,n))if(E.e<s&&--n,m=m.slice(n-3,n+1),m=="9999"||!N&&m=="4999"){if(!N&&(z(S,S.e+xt+2,0),S.times(S).eq(U))){E=S;break}h+=4,n+=4,N=1}else{(!+m||!+m.slice(1)&&m.charAt(0)=="5")&&(z(E,E.e+xt+2,1),y=!E.times(E).eq(U));break}}return z(E,E.e+xt+1,gt,y)},P.toExponential=function(y,m){return y!=null&&(ut(y,0,C),y++),mt(this,y,m,1)},P.toFixed=function(y,m){return y!=null&&(ut(y,0,C),y=y+this.e+1),mt(this,y,m)},P.toFormat=function(y,m,E){var N,S=this;if(E==null)y!=null&&m&&typeof m=="object"?(E=m,m=null):y&&typeof y=="object"?(E=y,y=m=null):E=$;else if(typeof E!="object")throw Error(w+"Argument not an object: "+E);if(N=S.toFixed(y,m),S.c){var U,f=N.split("."),n=+E.groupSize,s=+E.secondaryGroupSize,h=E.groupSeparator||"",g=f[0],b=f[1],v=S.s<0,M=v?g.slice(1):g,K=M.length;if(s&&(U=n,n=s,s=U,K-=U),n>0&&K>0){for(U=K%n||n,g=M.substr(0,U);U<K;U+=n)g+=h+M.substr(U,n);s>0&&(g+=h+M.slice(U)),v&&(g="-"+g)}N=b?g+(E.decimalSeparator||"")+((s=+E.fractionGroupSize)?b.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+(E.fractionGroupSeparator||"")):b):g}return(E.prefix||"")+N+(E.suffix||"")},P.toFraction=function(y){var m,E,N,S,U,f,n,s,h,g,b,v,M=this,K=M.c;if(y!=null&&(n=new d(y),!n.isInteger()&&(n.c||n.s!==1)||n.lt(bt)))throw Error(w+"Argument "+(n.isInteger()?"out of range: ":"not an integer: ")+q(n));if(!K)return new d(M);for(m=new d(bt),h=E=new d(bt),N=s=new d(bt),v=ht(K),U=m.e=v.length-M.e-1,m.c[0]=O[(f=U%I)<0?I+f:f],y=!y||n.comparedTo(m)>0?U>0?m:h:n,f=Ot,Ot=1/0,n=new d(v),s.c[0]=0;g=Z(n,m,0,1),S=E.plus(g.times(N)),S.comparedTo(y)!=1;)E=N,N=S,h=s.plus(g.times(S=h)),s=S,m=n.minus(g.times(S=m)),n=S;return S=Z(y.minus(E),N,0,1),s=s.plus(S.times(h)),E=E.plus(S.times(N)),s.s=h.s=M.s,U=U*2,b=Z(h,N,U,gt).minus(M).abs().comparedTo(Z(s,E,U,gt).minus(M).abs())<1?[h,N]:[s,E],Ot=f,b},P.toNumber=function(){return+q(this)},P.toPrecision=function(y,m){return y!=null&&ut(y,1,C),mt(this,y,m,2)},P.toString=function(y){var m,E=this,N=E.s,S=E.e;return S===null?N?(m="Infinity",N<0&&(m="-"+m)):m="NaN":(y==null?m=S<=Ut||S>=Bt?Nt(ht(E.c),S):X(ht(E.c),S,"0"):y===10&&pt?(E=z(new d(E),xt+S+1,gt),m=X(ht(E.c),E.e,"0")):(ut(y,2,G.length,"Base"),m=lt(X(ht(E.c),S,"0"),10,y,N,!0)),N<0&&E.c[0]&&(m="-"+m)),m},P.valueOf=P.toJSON=function(){return q(this)},P._isBigNumber=!0,J!=null&&d.set(J),d}function et(J){var Z=J|0;return J>0||J===Z?Z:Z-1}function ht(J){for(var Z,lt,wt=1,P=J.length,bt=J[0]+"";wt<P;){for(Z=J[wt++]+"",lt=I-Z.length;lt--;Z="0"+Z);bt+=Z}for(P=bt.length;bt.charCodeAt(--P)===48;);return bt.slice(0,P+1||1)}function St(J,Z){var lt,wt,P=J.c,bt=Z.c,xt=J.s,gt=Z.s,Ut=J.e,Bt=Z.e;if(!xt||!gt)return null;if(lt=P&&!P[0],wt=bt&&!bt[0],lt||wt)return lt?wt?0:-gt:xt;if(xt!=gt)return xt;if(lt=xt<0,wt=Ut==Bt,!P||!bt)return wt?0:!P^lt?1:-1;if(!wt)return Ut>Bt^lt?1:-1;for(gt=(Ut=P.length)<(Bt=bt.length)?Ut:Bt,xt=0;xt<gt;xt++)if(P[xt]!=bt[xt])return P[xt]>bt[xt]^lt?1:-1;return Ut==Bt?0:Ut>Bt^lt?1:-1}function ut(J,Z,lt,wt){if(J<Z||J>lt||J!==p(J))throw Error(w+(wt||"Argument")+(typeof J=="number"?J<Z||J>lt?" out of range: ":" not an integer: ":" not a primitive number: ")+String(J))}function Q(J){var Z=J.c.length-1;return et(J.e/I)==Z&&J.c[Z]%2!=0}function Nt(J,Z){return(J.length>1?J.charAt(0)+"."+J.slice(1):J)+(Z<0?"e":"e+")+Z}function X(J,Z,lt){var wt,P;if(Z<0){for(P=lt+".";++Z;P+=lt);J=P+J}else if(wt=J.length,++Z>wt){for(P=lt,Z-=wt;--Z;P+=lt);J+=P}else Z<wt&&(J=J.slice(0,Z)+"."+J.slice(Z));return J}r=rt(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=r)})(He)})(os);var Dr=os.exports,Po=function(t,r,i){var u=new t.Uint8Array(i),p=r.pushInt,w=r.pushInt32,c=r.pushInt32Neg,_=r.pushInt64,I=r.pushInt64Neg,F=r.pushFloat,O=r.pushFloatSingle,k=r.pushFloatDouble,C=r.pushTrue,rt=r.pushFalse,et=r.pushUndefined,ht=r.pushNull,St=r.pushInfinity,ut=r.pushInfinityNeg,Q=r.pushNaN,Nt=r.pushNaNNeg,X=r.pushArrayStart,J=r.pushArrayStartFixed,Z=r.pushArrayStartFixed32,lt=r.pushArrayStartFixed64,wt=r.pushObjectStart,P=r.pushObjectStartFixed,bt=r.pushObjectStartFixed32,xt=r.pushObjectStartFixed64,gt=r.pushByteString,Ut=r.pushByteStringStart,Bt=r.pushUtf8String,$t=r.pushUtf8StringStart,Ot=r.pushSimpleUnassigned,Y=r.pushTagStart,H=r.pushTagStart4,W=r.pushTagStart8,$=r.pushTagUnassigned,G=r.pushBreak,pt=t.Math.pow,d=0,mt=0,dt=0;function At(A){for(A=A|0,d=0,mt=A;(d|0)<(mt|0)&&(dt=yt[u[d]&255](u[d]|0)|0,!((dt|0)>0)););return dt|0}function z(A){return A=A|0,((d|0)+(A|0)|0)<(mt|0)?0:1}function q(A){return A=A|0,u[A|0]<<8|u[A+1|0]|0}function y(A){return A=A|0,u[A|0]<<24|u[A+1|0]<<16|u[A+2|0]<<8|u[A+3|0]|0}function m(A){return A=A|0,p(A|0),d=d+1|0,0}function E(A){return A=A|0,z(1)|0?1:(p(u[d+1|0]|0),d=d+2|0,0)}function N(A){return A=A|0,z(2)|0?1:(p(q(d+1|0)|0),d=d+3|0,0)}function S(A){return A=A|0,z(4)|0?1:(w(q(d+1|0)|0,q(d+3|0)|0),d=d+5|0,0)}function U(A){return A=A|0,z(8)|0?1:(_(q(d+1|0)|0,q(d+3|0)|0,q(d+5|0)|0,q(d+7|0)|0),d=d+9|0,0)}function f(A){return A=A|0,p(-1-(A-32|0)|0),d=d+1|0,0}function n(A){return A=A|0,z(1)|0?1:(p(-1-(u[d+1|0]|0)|0),d=d+2|0,0)}function s(A){A=A|0;var nt=0;return z(2)|0?1:(nt=q(d+1|0)|0,p(-1-(nt|0)|0),d=d+3|0,0)}function h(A){return A=A|0,z(4)|0?1:(c(q(d+1|0)|0,q(d+3|0)|0),d=d+5|0,0)}function g(A){return A=A|0,z(8)|0?1:(I(q(d+1|0)|0,q(d+3|0)|0,q(d+5|0)|0,q(d+7|0)|0),d=d+9|0,0)}function b(A){A=A|0;var nt=0,at=0,st=0;return st=A-64|0,z(st|0)|0?1:(nt=d+1|0,at=(d+1|0)+(st|0)|0,gt(nt|0,at|0),d=at|0,0)}function v(A){A=A|0;var nt=0,at=0,st=0;return z(1)|0||(st=u[d+1|0]|0,nt=d+2|0,at=(d+2|0)+(st|0)|0,z(st+1|0)|0)?1:(gt(nt|0,at|0),d=at|0,0)}function M(A){A=A|0;var nt=0,at=0,st=0;return z(2)|0||(st=q(d+1|0)|0,nt=d+3|0,at=(d+3|0)+(st|0)|0,z(st+2|0)|0)?1:(gt(nt|0,at|0),d=at|0,0)}function K(A){A=A|0;var nt=0,at=0,st=0;return z(4)|0||(st=y(d+1|0)|0,nt=d+5|0,at=(d+5|0)+(st|0)|0,z(st+4|0)|0)?1:(gt(nt|0,at|0),d=at|0,0)}function V(A){return A=A|0,1}function ct(A){return A=A|0,Ut(),d=d+1|0,0}function l(A){A=A|0;var nt=0,at=0,st=0;return st=A-96|0,z(st|0)|0?1:(nt=d+1|0,at=(d+1|0)+(st|0)|0,Bt(nt|0,at|0),d=at|0,0)}function o(A){A=A|0;var nt=0,at=0,st=0;return z(1)|0||(st=u[d+1|0]|0,nt=d+2|0,at=(d+2|0)+(st|0)|0,z(st+1|0)|0)?1:(Bt(nt|0,at|0),d=at|0,0)}function a(A){A=A|0;var nt=0,at=0,st=0;return z(2)|0||(st=q(d+1|0)|0,nt=d+3|0,at=(d+3|0)+(st|0)|0,z(st+2|0)|0)?1:(Bt(nt|0,at|0),d=at|0,0)}function x(A){A=A|0;var nt=0,at=0,st=0;return z(4)|0||(st=y(d+1|0)|0,nt=d+5|0,at=(d+5|0)+(st|0)|0,z(st+4|0)|0)?1:(Bt(nt|0,at|0),d=at|0,0)}function T(A){return A=A|0,1}function L(A){return A=A|0,$t(),d=d+1|0,0}function R(A){return A=A|0,J(A-128|0),d=d+1|0,0}function it(A){return A=A|0,z(1)|0?1:(J(u[d+1|0]|0),d=d+2|0,0)}function _t(A){return A=A|0,z(2)|0?1:(J(q(d+1|0)|0),d=d+3|0,0)}function ft(A){return A=A|0,z(4)|0?1:(Z(q(d+1|0)|0,q(d+3|0)|0),d=d+5|0,0)}function ot(A){return A=A|0,z(8)|0?1:(lt(q(d+1|0)|0,q(d+3|0)|0,q(d+5|0)|0,q(d+7|0)|0),d=d+9|0,0)}function Tt(A){return A=A|0,X(),d=d+1|0,0}function Rt(A){A=A|0;var nt=0;return nt=A-160|0,z(nt|0)|0?1:(P(nt|0),d=d+1|0,0)}function Pr(A){return A=A|0,z(1)|0?1:(P(u[d+1|0]|0),d=d+2|0,0)}function Pt(A){return A=A|0,z(2)|0?1:(P(q(d+1|0)|0),d=d+3|0,0)}function ge(A){return A=A|0,z(4)|0?1:(bt(q(d+1|0)|0,q(d+3|0)|0),d=d+5|0,0)}function rr(A){return A=A|0,z(8)|0?1:(xt(q(d+1|0)|0,q(d+3|0)|0,q(d+5|0)|0,q(d+7|0)|0),d=d+9|0,0)}function kr(A){return A=A|0,wt(),d=d+1|0,0}function fe(A){return A=A|0,Y(A-192|0|0),d=d+1|0,0}function nr(A){return A=A|0,Y(A|0),d=d+1|0,0}function Hr(A){return A=A|0,Y(A|0),d=d+1|0,0}function Gr(A){return A=A|0,Y(A|0),d=d+1|0,0}function Qn(A){return A=A|0,Y(A|0),d=d+1|0,0}function Dt(A){return A=A|0,Y(A-192|0|0),d=d+1|0,0}function $r(A){return A=A|0,Y(A|0),d=d+1|0,0}function ti(A){return A=A|0,Y(A|0),d=d+1|0,0}function qt(A){return A=A|0,Y(A|0),d=d+1|0,0}function Le(A){return A=A|0,z(1)|0?1:(Y(u[d+1|0]|0),d=d+2|0,0)}function ir(A){return A=A|0,z(2)|0?1:(Y(q(d+1|0)|0),d=d+3|0,0)}function sr(A){return A=A|0,z(4)|0?1:(H(q(d+1|0)|0,q(d+3|0)|0),d=d+5|0,0)}function or(A){return A=A|0,z(8)|0?1:(W(q(d+1|0)|0,q(d+3|0)|0,q(d+5|0)|0,q(d+7|0)|0),d=d+9|0,0)}function Lt(A){return A=A|0,Ot((A|0)-224|0),d=d+1|0,0}function Qt(A){return A=A|0,rt(),d=d+1|0,0}function ar(A){return A=A|0,C(),d=d+1|0,0}function ur(A){return A=A|0,ht(),d=d+1|0,0}function cr(A){return A=A|0,et(),d=d+1|0,0}function fr(A){return A=A|0,z(1)|0?1:(Ot(u[d+1|0]|0),d=d+2|0,0)}function zr(A){A=A|0;var nt=0,at=0,st=1,se=0,Mt=0,Wr=0;return z(2)|0?1:(nt=u[d+1|0]|0,at=u[d+2|0]|0,(nt|0)&128&&(st=-1),se=+(((nt|0)&124)>>2),Mt=+(((nt|0)&3)<<8|at),+se==0?F(+(+st*5960464477539063e-23*+Mt)):+se==31?+st==1?+Mt>0?Q():St():+Mt>0?Nt():ut():F(+(+st*pt(2,+(+se-25))*+(1024+Mt))),d=d+3|0,0)}function tt(A){return A=A|0,z(4)|0?1:(O(u[d+1|0]|0,u[d+2|0]|0,u[d+3|0]|0,u[d+4|0]|0),d=d+5|0,0)}function B(A){return A=A|0,z(8)|0?1:(k(u[d+1|0]|0,u[d+2|0]|0,u[d+3|0]|0,u[d+4|0]|0,u[d+5|0]|0,u[d+6|0]|0,u[d+7|0]|0,u[d+8|0]|0),d=d+9|0,0)}function D(A){return A=A|0,1}function j(A){return A=A|0,G(),d=d+1|0,0}var yt=[m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,E,N,S,U,D,D,D,D,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,n,s,h,g,D,D,D,D,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,v,M,K,V,D,D,D,ct,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,o,a,x,T,D,D,D,L,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,R,it,_t,ft,ot,D,D,D,Tt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Pr,Pt,ge,rr,D,D,D,kr,fe,fe,fe,fe,fe,fe,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Le,ir,sr,or,D,D,D,D,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Qt,ar,ur,cr,fr,zr,tt,B,D,D,D,j];return{parse:At}},Mr={},zt={};const On=Dr.BigNumber;zt.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};zt.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};zt.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};zt.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};zt.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};zt.SHIFT32=Math.pow(2,32);zt.SHIFT16=Math.pow(2,16);zt.MAX_SAFE_HIGH=2097151;zt.NEG_ONE=new On(-1);zt.TEN=new On(10);zt.TWO=new On(2);zt.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5};(function(e){const{Buffer:t}=tr,r=Dr.BigNumber,i=zt,u=i.SHIFT32,p=i.SHIFT16,w=2097151;e.parseHalf=function(I){var F,O,k;return k=I[0]&128?-1:1,F=(I[0]&124)>>2,O=(I[0]&3)<<8|I[1],F?F===31?k*(O?NaN:1/0):k*Math.pow(2,F-25)*(1024+O):k*5960464477539063e-23*O};function c(_){return _<16?"0"+_.toString(16):_.toString(16)}e.arrayBufferToBignumber=function(_){const I=_.byteLength;let F="";for(let O=0;O<I;O++)F+=c(_[O]);return new r(F,16)},e.buildMap=_=>{const I=new Map,F=Object.keys(_),O=F.length;for(let k=0;k<O;k++)I.set(F[k],_[F[k]]);return I},e.buildInt32=(_,I)=>_*p+I,e.buildInt64=(_,I,F,O)=>{const k=e.buildInt32(_,I),C=e.buildInt32(F,O);return k>w?new r(k).times(u).plus(C):k*u+C},e.writeHalf=function(I,F){const O=t.allocUnsafe(4);O.writeFloatBE(F,0);const k=O.readUInt32BE(0);if(k&8191)return!1;var C=k>>16&32768;const rt=k>>23&255,et=k&8388607;if(rt>=113&&rt<=142)C+=(rt-112<<10)+(et>>13);else if(rt>=103&&rt<113){if(et&(1<<126-rt)-1)return!1;C+=et+8388608>>126-rt}else return!1;return I.writeUInt16BE(C,0),!0},e.keySorter=function(_,I){var F=_[0].byteLength,O=I[0].byteLength;return F>O?1:O>F?-1:_[0].compare(I[0])},e.isNegativeZero=_=>_===0&&1/_<0,e.nextPowerOf2=_=>{let I=0;if(_&&!(_&_-1))return _;for(;_!==0;)_>>=1,I+=1;return 1<<I}})(Mr);const Dn=zt,ko=Dn.MT,hr=Dn.SIMPLE,Xr=Dn.SYMS;let Ho=class dn{constructor(t){if(typeof t!="number")throw new Error("Invalid Simple type: "+typeof t);if(t<0||t>255||(t|0)!==t)throw new Error("value must be a small positive integer: "+t);this.value=t}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(t){return t._pushInt(this.value,ko.SIMPLE_FLOAT)}static isSimple(t){return t instanceof dn}static decode(t,r){switch(r==null&&(r=!0),t){case hr.FALSE:return!1;case hr.TRUE:return!0;case hr.NULL:return r?null:Xr.NULL;case hr.UNDEFINED:return r?void 0:Xr.UNDEFINED;case-1:if(!r)throw new Error("Invalid BREAK");return Xr.BREAK;default:return new dn(t)}}};var as=Ho;let Go=class gn{constructor(t,r,i){if(this.tag=t,this.value=r,this.err=i,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(t){return t._pushTag(this.tag),t.pushAny(this.value)}convert(t){var r,i;if(i=t?.[this.tag],typeof i!="function"&&(i=gn["_tag"+this.tag],typeof i!="function"))return this;try{return i.call(gn,this.value)}catch(u){return r=u,this.err=r,this}}};var us=Go;const cs=self.location?self.location.protocol+"//"+self.location.host:"",yn=self.URL;let $o=class{constructor(t="",r=cs){this.super=new yn(t,r),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(t){this.super.hash=t}set host(t){this.super.host=t}set hostname(t){this.super.hostname=t}set href(t){this.super.href=t}set origin(t){this.super.origin=t}set password(t){this.super.password=t}set pathname(t){this.super.pathname=t}set port(t){this.super.port=t}set protocol(t){this.super.protocol=t}set search(t){this.super.search=t}set searchParams(t){this.super.searchParams=t}set username(t){this.super.username=t}createObjectURL(t){return this.super.createObjectURL(t)}revokeObjectURL(t){this.super.revokeObjectURL(t)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function zo(e){if(typeof e=="string")return new yn(e).toString();if(!(e instanceof yn)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",r=e.auth?e.auth+"@":"",i=e.port?":"+e.port:"",u=e.protocol?e.protocol+"//":"",p=e.host||"",w=e.hostname||"",c=e.search||(e.query?"?"+e.query:""),_=e.hash||"",I=e.pathname||"",F=e.path||I+c;return`${u}${t||r}${p||w+i}${F}${_}`}}var fs={URLWithLegacySupport:$o,URLSearchParams:self.URLSearchParams,defaultBase:cs,format:zo};const{URLWithLegacySupport:ui,format:Wo}=fs;var Yo=(e,t={},r={},i)=>{let u=t.protocol?t.protocol.replace(":",""):"http";u=(r[u]||i||u)+":";let p;try{p=new ui(e)}catch{p={}}const w=Object.assign({},t,{protocol:u||p.protocol,host:t.host||p.host});return new ui(e,Wo(w)).toString()};const{URLWithLegacySupport:Ko,format:qo,URLSearchParams:Vo,defaultBase:Xo}=fs,jo=Yo;var ls={URL:Ko,URLSearchParams:Vo,format:qo,relative:jo,defaultBase:Xo};const{Buffer:De}=tr,ci=Ze,Jo=Dr.BigNumber,Zo=Po,Wt=Mr,Ft=zt,Qo=as,ta=us,{URL:ea}=ls;let wn=class mn{constructor(t){t=t||{},!t.size||t.size<65536?t.size=65536:t.size=Wt.nextPowerOf2(t.size),this._heap=new ArrayBuffer(t.size),this._heap8=new Uint8Array(this._heap),this._buffer=De.from(this._heap),this._reset(),this._knownTags=Object.assign({0:r=>new Date(r),1:r=>new Date(r*1e3),2:r=>Wt.arrayBufferToBignumber(r),3:r=>Ft.NEG_ONE.minus(Wt.arrayBufferToBignumber(r)),4:r=>Ft.TEN.pow(r[0]).times(r[1]),5:r=>Ft.TWO.pow(r[0]).times(r[1]),32:r=>new ea(r),35:r=>new RegExp(r)},t.tags),this.parser=Zo(He,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var t=this._parents.pop();if(t.length>0)throw new Error(`Missing ${t.length} elements`);switch(t.type){case Ft.PARENT.TAG:this._push(this.createTag(t.ref[0],t.ref[1]));break;case Ft.PARENT.BYTE_STRING:this._push(this.createByteString(t.ref,t.length));break;case Ft.PARENT.UTF8_STRING:this._push(this.createUtf8String(t.ref,t.length));break;case Ft.PARENT.MAP:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(t.ref,t.length));break;case Ft.PARENT.OBJECT:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(t.ref,t.length));break;case Ft.PARENT.ARRAY:this._push(this.createArray(t.ref,t.length));break}this._currentParent&&this._currentParent.type===Ft.PARENT.TAG&&this._dec()}_dec(){const t=this._currentParent;t.length<0||(t.length--,t.length===0&&this._closeParent())}_push(t,r){const i=this._currentParent;switch(i.values++,i.type){case Ft.PARENT.ARRAY:case Ft.PARENT.BYTE_STRING:case Ft.PARENT.UTF8_STRING:i.length>-1?this._ref[this._ref.length-i.length]=t:this._ref.push(t),this._dec();break;case Ft.PARENT.OBJECT:i.tmpKey!=null?(this._ref[i.tmpKey]=t,i.tmpKey=null,this._dec()):(i.tmpKey=t,typeof i.tmpKey!="string"&&(i.type=Ft.PARENT.MAP,i.ref=Wt.buildMap(i.ref)));break;case Ft.PARENT.MAP:i.tmpKey!=null?(this._ref.set(i.tmpKey,t),i.tmpKey=null,this._dec()):i.tmpKey=t;break;case Ft.PARENT.TAG:this._ref.push(t),r||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(t,r,i){this._parents[this._depth]={type:r,length:i,ref:t,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:Ft.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(t,r){const i=this._knownTags[t];return i?i(r):new ta(t,r)}createMap(t,r){return t}createObject(t,r){return t}createArray(t,r){return t}createByteString(t,r){return De.concat(t)}createByteStringFromHeap(t,r){return t===r?De.alloc(0):De.from(this._heap.slice(t,r))}createInt(t){return t}createInt32(t,r){return Wt.buildInt32(t,r)}createInt64(t,r,i,u){return Wt.buildInt64(t,r,i,u)}createFloat(t){return t}createFloatSingle(t,r,i,u){return ci.read([t,r,i,u],0,!1,23,4)}createFloatDouble(t,r,i,u,p,w,c,_){return ci.read([t,r,i,u,p,w,c,_],0,!1,52,8)}createInt32Neg(t,r){return-1-Wt.buildInt32(t,r)}createInt64Neg(t,r,i,u){const p=Wt.buildInt32(t,r),w=Wt.buildInt32(i,u);return p>Ft.MAX_SAFE_HIGH?Ft.NEG_ONE.minus(new Jo(p).times(Ft.SHIFT32).plus(w)):-1-(p*Ft.SHIFT32+w)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(t,r){return t.join("")}createUtf8StringFromHeap(t,r){return t===r?"":this._buffer.toString("utf8",t,r)}createSimpleUnassigned(t){return new Qo(t)}pushInt(t){this._push(this.createInt(t))}pushInt32(t,r){this._push(this.createInt32(t,r))}pushInt64(t,r,i,u){this._push(this.createInt64(t,r,i,u))}pushFloat(t){this._push(this.createFloat(t))}pushFloatSingle(t,r,i,u){this._push(this.createFloatSingle(t,r,i,u))}pushFloatDouble(t,r,i,u,p,w,c,_){this._push(this.createFloatDouble(t,r,i,u,p,w,c,_))}pushInt32Neg(t,r){this._push(this.createInt32Neg(t,r))}pushInt64Neg(t,r,i,u){this._push(this.createInt64Neg(t,r,i,u))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],Ft.PARENT.ARRAY,-1)}pushArrayStartFixed(t){this._createArrayStartFixed(t)}pushArrayStartFixed32(t,r){const i=Wt.buildInt32(t,r);this._createArrayStartFixed(i)}pushArrayStartFixed64(t,r,i,u){const p=Wt.buildInt64(t,r,i,u);this._createArrayStartFixed(p)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(t){this._createObjectStartFixed(t)}pushObjectStartFixed32(t,r){const i=Wt.buildInt32(t,r);this._createObjectStartFixed(i)}pushObjectStartFixed64(t,r,i,u){const p=Wt.buildInt64(t,r,i,u);this._createObjectStartFixed(p)}pushByteStringStart(){this._parents[this._depth]={type:Ft.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(t,r){this._push(this.createByteStringFromHeap(t,r))}pushUtf8StringStart(){this._parents[this._depth]={type:Ft.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(t,r){this._push(this.createUtf8StringFromHeap(t,r))}pushSimpleUnassigned(t){this._push(this.createSimpleUnassigned(t))}pushTagStart(t){this._parents[this._depth]={type:Ft.PARENT.TAG,length:1,ref:[t]}}pushTagStart4(t,r){this.pushTagStart(Wt.buildInt32(t,r))}pushTagStart8(t,r,i,u){this.pushTagStart(Wt.buildInt64(t,r,i,u))}pushTagUnassigned(t){this._push(this.createTag(t))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(t){if(t===0){this._push(this.createObject({}));return}this._createParent({},Ft.PARENT.OBJECT,t)}_createArrayStartFixed(t){if(t===0){this._push(this.createArray([]));return}this._createParent(new Array(t),Ft.PARENT.ARRAY,t)}_decode(t){if(t.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(t);const r=this.parser.parse(t.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(r>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(t){return this._decode(t),this._res[0]}decodeAll(t){return this._decode(t),this._res}static decode(t,r){return typeof t=="string"&&(t=De.from(t,r||"hex")),new mn({size:t.length}).decodeFirst(t)}static decodeAll(t,r){return typeof t=="string"&&(t=De.from(t,r||"hex")),new mn({size:t.length}).decodeAll(t)}};wn.decodeFirst=wn.decode;var hs=wn;const{Buffer:jr}=tr,ra=hs,na=Mr;class Mn extends ra{createTag(t,r){return`${t}(${r})`}createInt(t){return super.createInt(t).toString()}createInt32(t,r){return super.createInt32(t,r).toString()}createInt64(t,r,i,u){return super.createInt64(t,r,i,u).toString()}createInt32Neg(t,r){return super.createInt32Neg(t,r).toString()}createInt64Neg(t,r,i,u){return super.createInt64Neg(t,r,i,u).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(t){const r=super.createFloat(t);return na.isNegativeZero(t)?"-0_1":`${r}_1`}createFloatSingle(t,r,i,u){return`${super.createFloatSingle(t,r,i,u)}_2`}createFloatDouble(t,r,i,u,p,w,c,_){return`${super.createFloatDouble(t,r,i,u,p,w,c,_)}_3`}createByteString(t,r){const i=t.join(", ");return r===-1?`(_ ${i})`:`h'${i}`}createByteStringFromHeap(t,r){return`h'${jr.from(super.createByteStringFromHeap(t,r)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(t){return`simple(${t})`}createArray(t,r){const i=super.createArray(t,r);return r===-1?`[_ ${i.join(", ")}]`:`[${i.join(", ")}]`}createMap(t,r){const i=super.createMap(t),u=Array.from(i.keys()).reduce(fi(i),"");return r===-1?`{_ ${u}}`:`{${u}}`}createObject(t,r){const i=super.createObject(t),u=Object.keys(i).reduce(fi(i),"");return r===-1?`{_ ${u}}`:`{${u}}`}createUtf8String(t,r){const i=t.join(", ");return r===-1?`(_ ${i})`:`"${i}"`}createUtf8StringFromHeap(t,r){return`"${jr.from(super.createUtf8StringFromHeap(t,r)).toString("utf8")}"`}static diagnose(t,r){return typeof t=="string"&&(t=jr.from(t,r||"hex")),new Mn().decodeFirst(t)}}var ia=Mn;function fi(e){return(t,r)=>t?`${t}, ${r}: ${e[r]}`:`${r}: ${e[r]}`}const{Buffer:ue}=tr,{URL:sa}=ls,xn=Dr.BigNumber,Jr=Mr,Ht=zt,te=Ht.MT,pr=Ht.NUMBYTES,li=Ht.SHIFT32,hi=Ht.SYMS,Me=Ht.TAG,oa=Ht.MT.SIMPLE_FLOAT<<5|Ht.NUMBYTES.TWO,aa=Ht.MT.SIMPLE_FLOAT<<5|Ht.NUMBYTES.FOUR,ua=Ht.MT.SIMPLE_FLOAT<<5|Ht.NUMBYTES.EIGHT,ca=Ht.MT.SIMPLE_FLOAT<<5|Ht.SIMPLE.TRUE,fa=Ht.MT.SIMPLE_FLOAT<<5|Ht.SIMPLE.FALSE,la=Ht.MT.SIMPLE_FLOAT<<5|Ht.SIMPLE.UNDEFINED,pi=Ht.MT.SIMPLE_FLOAT<<5|Ht.SIMPLE.NULL,ha=new xn("0x20000000000000"),pa=ue.from("f97e00","hex"),da=ue.from("f9fc00","hex"),ga=ue.from("f97c00","hex");function ya(e){return{}.toString.call(e).slice(8,-1)}class Br{constructor(t){t=t||{},this.streaming=typeof t.stream=="function",this.onData=t.stream,this.semanticTypes=[[sa,this._pushUrl],[xn,this._pushBigNumber]];const r=t.genTypes||[],i=r.length;for(let u=0;u<i;u++)this.addSemanticType(r[u][0],r[u][1]);this._reset()}addSemanticType(t,r){const i=this.semanticTypes.length;for(let u=0;u<i;u++)if(this.semanticTypes[u][0]===t){const w=this.semanticTypes[u][1];return this.semanticTypes[u][1]=r,w}return this.semanticTypes.push([t,r]),null}push(t){return t&&(this.result[this.offset]=t,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=t.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(t,r,i){return this.result[this.offset]=t,this.resultMethod[this.offset]=r,this.resultLength[this.offset]=i,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(t){return this.pushWrite(t,1,1)}_pushUInt16BE(t){return this.pushWrite(t,2,2)}_pushUInt32BE(t){return this.pushWrite(t,3,4)}_pushDoubleBE(t){return this.pushWrite(t,4,8)}_pushNaN(){return this.push(pa)}_pushInfinity(t){const r=t<0?da:ga;return this.push(r)}_pushFloat(t){const r=ue.allocUnsafe(2);if(Jr.writeHalf(r,t)&&Jr.parseHalf(r)===t)return this._pushUInt8(oa)&&this.push(r);const i=ue.allocUnsafe(4);return i.writeFloatBE(t,0),i.readFloatBE(0)===t?this._pushUInt8(aa)&&this.push(i):this._pushUInt8(ua)&&this._pushDoubleBE(t)}_pushInt(t,r,i){const u=r<<5;return t<24?this._pushUInt8(u|t):t<=255?this._pushUInt8(u|pr.ONE)&&this._pushUInt8(t):t<=65535?this._pushUInt8(u|pr.TWO)&&this._pushUInt16BE(t):t<=4294967295?this._pushUInt8(u|pr.FOUR)&&this._pushUInt32BE(t):t<=Number.MAX_SAFE_INTEGER?this._pushUInt8(u|pr.EIGHT)&&this._pushUInt32BE(Math.floor(t/li))&&this._pushUInt32BE(t%li):r===te.NEG_INT?this._pushFloat(i):this._pushFloat(t)}_pushIntNum(t){return t<0?this._pushInt(-t-1,te.NEG_INT,t):this._pushInt(t,te.POS_INT)}_pushNumber(t){switch(!1){case t===t:return this._pushNaN(t);case isFinite(t):return this._pushInfinity(t);case t%1!==0:return this._pushIntNum(t);default:return this._pushFloat(t)}}_pushString(t){const r=ue.byteLength(t,"utf8");return this._pushInt(r,te.UTF8_STRING)&&this.pushWrite(t,5,r)}_pushBoolean(t){return this._pushUInt8(t?ca:fa)}_pushUndefined(t){return this._pushUInt8(la)}_pushArray(t,r){const i=r.length;if(!t._pushInt(i,te.ARRAY))return!1;for(let u=0;u<i;u++)if(!t.pushAny(r[u]))return!1;return!0}_pushTag(t){return this._pushInt(t,te.TAG)}_pushDate(t,r){return t._pushTag(Me.DATE_EPOCH)&&t.pushAny(Math.round(r/1e3))}_pushBuffer(t,r){return t._pushInt(r.length,te.BYTE_STRING)&&t.push(r)}_pushNoFilter(t,r){return t._pushBuffer(t,r.slice())}_pushRegexp(t,r){return t._pushTag(Me.REGEXP)&&t.pushAny(r.source)}_pushSet(t,r){if(!t._pushInt(r.size,te.ARRAY))return!1;for(const i of r)if(!t.pushAny(i))return!1;return!0}_pushUrl(t,r){return t._pushTag(Me.URI)&&t.pushAny(r.format())}_pushBigint(t){let r=Me.POS_BIGINT;t.isNegative()&&(t=t.negated().minus(1),r=Me.NEG_BIGINT);let i=t.toString(16);i.length%2&&(i="0"+i);const u=ue.from(i,"hex");return this._pushTag(r)&&this._pushBuffer(this,u)}_pushBigNumber(t,r){if(r.isNaN())return t._pushNaN();if(!r.isFinite())return t._pushInfinity(r.isNegative()?-1/0:1/0);if(r.isInteger())return t._pushBigint(r);if(!(t._pushTag(Me.DECIMAL_FRAC)&&t._pushInt(2,te.ARRAY)))return!1;const i=r.decimalPlaces(),u=r.multipliedBy(new xn(10).pow(i));return t._pushIntNum(-i)?u.abs().isLessThan(ha)?t._pushIntNum(u.toNumber()):t._pushBigint(u):!1}_pushMap(t,r){return t._pushInt(r.size,te.MAP)?this._pushRawMap(r.size,Array.from(r)):!1}_pushObject(t){if(!t)return this._pushUInt8(pi);for(var r=this.semanticTypes.length,i=0;i<r;i++)if(t instanceof this.semanticTypes[i][0])return this.semanticTypes[i][1].call(t,this,t);var u=t.encodeCBOR;if(typeof u=="function")return u.call(t,this);var p=Object.keys(t),w=p.length;return this._pushInt(w,te.MAP)?this._pushRawMap(w,p.map(c=>[c,t[c]])):!1}_pushRawMap(t,r){r=r.map(function(u){return u[0]=Br.encode(u[0]),u}).sort(Jr.keySorter);for(var i=0;i<t;i++)if(!this.push(r[i][0])||!this.pushAny(r[i][1]))return!1;return!0}write(t){return this.pushAny(t)}pushAny(t){var r=ya(t);switch(r){case"Number":return this._pushNumber(t);case"String":return this._pushString(t);case"Boolean":return this._pushBoolean(t);case"Object":return this._pushObject(t);case"Array":return this._pushArray(this,t);case"Uint8Array":return this._pushBuffer(this,ue.isBuffer(t)?t:ue.from(t));case"Null":return this._pushUInt8(pi);case"Undefined":return this._pushUndefined(t);case"Map":return this._pushMap(this,t);case"Set":return this._pushSet(this,t);case"URL":return this._pushUrl(this,t);case"BigNumber":return this._pushBigNumber(this,t);case"Date":return this._pushDate(this,t);case"RegExp":return this._pushRegexp(this,t);case"Symbol":switch(t){case hi.NULL:return this._pushObject(null);case hi.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+t.toString())}default:throw new Error("Unknown type: "+typeof t+", "+(t?t.toString():""))}}finalize(){if(this.offset===0)return null;for(var t=this.result,r=this.resultLength,i=this.resultMethod,u=this.offset,p=0,w=0;w<u;w++)p+=r[w];var c=ue.allocUnsafe(p),_=0,I=0;for(w=0;w<u;w++){switch(I=r[w],i[w]){case 0:t[w].copy(c,_);break;case 1:c.writeUInt8(t[w],_,!0);break;case 2:c.writeUInt16BE(t[w],_,!0);break;case 3:c.writeUInt32BE(t[w],_,!0);break;case 4:c.writeDoubleBE(t[w],_,!0);break;case 5:c.write(t[w],_,I,"utf8");break;default:throw new Error("unkown method")}_+=I}var F=c;return this._reset(),F}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(t){const r=new Br;if(!r.pushAny(t))throw new Error("Failed to encode input");return r.finalize()}}var wa=Br;(function(e){e.Diagnose=ia,e.Decoder=hs,e.Encoder=wa,e.Simple=as,e.Tagged=us,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}})(ss);const ps=js(ss);function Xe(...e){const t=new Uint8Array(e.reduce((i,u)=>i+u.byteLength,0));let r=0;for(const i of e)t.set(new Uint8Array(i),r),r+=i.byteLength;return t.buffer}function ke(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}const ma=new RegExp(/^[0-9a-fA-F]+$/);function Be(e){if(!ma.test(e))throw new Error("Invalid hexadecimal string.");const t=[...e].reduce((r,i,u)=>(r[u/2|0]=(r[u/2|0]||"")+i,r),[]).map(r=>Number.parseInt(r,16));return new Uint8Array(t).buffer}function ds(e,t){if(e.byteLength!==t.byteLength)return e.byteLength-t.byteLength;const r=new Uint8Array(e),i=new Uint8Array(t);for(let u=0;u<r.length;u++)if(r[u]!==i[u])return r[u]-i[u];return 0}function gs(e,t){return ds(e,t)===0}function Ve(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function ys(e){return e instanceof Uint8Array?Ve(e):e instanceof ArrayBuffer?e:Array.isArray(e)?Ve(new Uint8Array(e)):"buffer"in e?ys(e.buffer):Ve(new Uint8Array(e))}function ve(e){return Ve(Bo.create().update(new Uint8Array(e)).digest())}function xr(e){if(e instanceof ps.Tagged)return xr(e.value);if(typeof e=="string")return ws(e);if(typeof e=="number")return ve(oi(e));if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return ve(e);if(Array.isArray(e)){const t=e.map(xr);return ve(Xe(...t))}else{if(e&&typeof e=="object"&&e._isPrincipal)return ve(e.toUint8Array());if(typeof e=="object"&&e!==null&&typeof e.toHash=="function")return xr(e.toHash());if(typeof e=="object")return ms(e);if(typeof e=="bigint")return ve(oi(e))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${e}`),{value:e})}const ws=e=>{const t=new TextEncoder().encode(e);return ve(t)};function Cn(e){return ms(e)}function ms(e){const i=Object.entries(e).filter(([,w])=>w!==void 0).map(([w,c])=>{const _=ws(w),I=xr(c);return[_,I]}).sort(([w],[c])=>ds(w,c)),u=Xe(...i.map(w=>Xe(...w)));return ve(u)}var xa=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(r[i[u]]=e[i[u]]);return r};const _a=new TextEncoder().encode(`
ic-request`);class Pn{getPrincipal(){return this._principal||(this._principal=Se.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(t){const{body:r}=t,i=xa(t,["body"]),u=await Cn(r);return Object.assign(Object.assign({},i),{body:{content:r,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(Xe(_a,u))}})}}class di{getPrincipal(){return Se.anonymous()}async transformRequest(t){return Object.assign(Object.assign({},t),{body:{content:t.body}})}}var Xt={},$e={},vt={};Object.defineProperty(vt,"__esModule",{value:!0});const Ea=9007199254740992;function de(e,...t){const r=new Uint8Array(e.byteLength+t.reduce((u,p)=>u+p.byteLength,0));r.set(new Uint8Array(e),0);let i=e.byteLength;for(const u of t)r.set(new Uint8Array(u),i),i+=u.byteLength;return r.buffer}function ie(e,t,r){r=r.replace(/[^0-9a-fA-F]/g,"");const i=2**(t-24);r=r.slice(-i*2).padStart(i*2,"0");const u=[(e<<5)+t].concat(r.match(/../g).map(p=>parseInt(p,16)));return new Uint8Array(u).buffer}function Cr(e,t){if(t<24)return new Uint8Array([(e<<5)+t]).buffer;{const r=t<=255?24:t<=65535?25:t<=4294967295?26:27;return ie(e,r,t.toString(16))}}function xs(e){const t=[];for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t.push(i):i<2048?t.push(192|i>>6,128|i&63):i<55296||i>=57344?t.push(224|i>>12,128|i>>6&63,128|i&63):(r++,i=(i&1023)<<10|e.charCodeAt(r)&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63))}return de(new Uint8Array(Cr(3,e.length)),new Uint8Array(t))}function ba(e,t){if(e==14277111)return de(new Uint8Array([217,217,247]),t);if(e<24)return de(new Uint8Array([192+e]),t);{const r=e<=255?24:e<=65535?25:e<=4294967295?26:27,i=2**(r-24),u=e.toString(16).slice(-i*2).padStart(i*2,"0"),p=[192+r].concat(u.match(/../g).map(w=>parseInt(w,16)));return new Uint8Array(p).buffer}}vt.tagged=ba;function er(e){return new Uint8Array(e).buffer}vt.raw=er;function kn(e){if(isNaN(e))throw new RangeError("Invalid number.");e=Math.min(Math.max(0,e),23);const t=[0+e];return new Uint8Array(t).buffer}vt.uSmall=kn;function _s(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),255),e=e.toString(16),ie(0,24,e)}vt.u8=_s;function Es(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),65535),e=e.toString(16),ie(0,25,e)}vt.u16=Es;function bs(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),4294967295),e=e.toString(16),ie(0,26,e)}vt.u32=bs;function Hn(e,t){if(typeof e=="string"&&t==16){if(e.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return ie(0,27,e)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),Ea),e=e.toString(16),ie(0,27,e)}vt.u64=Hn;function As(e){if(isNaN(e))throw new RangeError("Invalid number.");if(e===0)return kn(0);e=Math.min(Math.max(0,-e),24)-1;const t=[32+e];return new Uint8Array(t).buffer}vt.iSmall=As;function Is(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),255),e=e.toString(16),ie(1,24,e)}vt.i8=Is;function Ts(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),65535),e=e.toString(16),ie(1,25,e)}vt.i16=Ts;function Ss(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),4294967295),e=e.toString(16),ie(1,26,e)}vt.i32=Ss;function Bs(e,t){if(typeof e=="string"&&t==16){if(e.startsWith("-")?e=e.slice(1):e="0",e.match(/[^0-9a-fA-F]/)||e.length>16)throw new RangeError("Invalid number.");let r=!1,i=e.split("").reduceRight((u,p)=>{if(r)return p+u;let w=parseInt(p,16)-1;return w>=0?(r=!0,w.toString(16)+u):"f"+u},"");return r?ie(1,27,i):Hn(0)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),9007199254740992),e=e.toString(16),ie(1,27,e)}vt.i64=Bs;function Aa(e){return e>=0?e<24?kn(e):e<=255?_s(e):e<=65535?Es(e):e<=4294967295?bs(e):Hn(e):e>=-24?As(e):e>=-255?Is(e):e>=-65535?Ts(e):e>=-4294967295?Ss(e):Bs(e)}vt.number=Aa;function Ia(e){return de(Cr(2,e.byteLength),e)}vt.bytes=Ia;function Ta(e){return xs(e)}vt.string=Ta;function Sa(e){return de(Cr(4,e.length),...e)}vt.array=Sa;function Ba(e,t=!1){e instanceof Map||(e=new Map(Object.entries(e)));let r=Array.from(e.entries());return t&&(r=r.sort(([i],[u])=>i.localeCompare(u))),de(Cr(5,e.size),...r.map(([i,u])=>de(xs(i),u)))}vt.map=Ba;function Na(e){const t=new Float32Array([e]);return de(new Uint8Array([250]),new Uint8Array(t.buffer))}vt.singleFloat=Na;function Ua(e){const t=new Float64Array([e]);return de(new Uint8Array([251]),new Uint8Array(t.buffer))}vt.doubleFloat=Ua;function Fa(e){return e?Ns():Us()}vt.bool=Fa;function Ns(){return er(new Uint8Array([245]))}vt.true_=Ns;function Us(){return er(new Uint8Array([244]))}vt.false_=Us;function va(){return er(new Uint8Array([246]))}vt.null_=va;function Ra(){return er(new Uint8Array([247]))}vt.undefined_=Ra;var La=He&&He.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty($e,"__esModule",{value:!0});const re=La(vt),Oa=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class Fs{constructor(t,r=!1){this._serializer=t,this._stable=r,this.name="jsonDefault",this.priority=-100}match(t){return["undefined","boolean","number","string","object"].indexOf(typeof t)!=-1}encode(t){switch(typeof t){case"undefined":return re.undefined_();case"boolean":return re.bool(t);case"number":return Math.floor(t)===t?re.number(t):re.doubleFloat(t);case"string":return re.string(t);case"object":if(t===null)return re.null_();if(Array.isArray(t))return re.array(t.map(r=>this._serializer.serializeValue(r)));if(Oa.find(r=>t instanceof r))return re.bytes(t.buffer);if(Object.getOwnPropertyNames(t).indexOf("toJSON")!==-1)return this.encode(t.toJSON());if(t instanceof Map){const r=new Map;for(const[i,u]of t.entries())r.set(i,this._serializer.serializeValue(u));return re.map(r,this._stable)}else{const r=new Map;for(const[i,u]of Object.entries(t))r.set(i,this._serializer.serializeValue(u));return re.map(r,this._stable)}default:throw new Error("Invalid value.")}}}$e.JsonDefaultCborEncoder=Fs;class vs{constructor(){this.name="cborEncoder",this.priority=-90}match(t){return typeof t=="object"&&typeof t.toCBOR=="function"}encode(t){return t.toCBOR()}}$e.ToCborEncoder=vs;class Rs{constructor(){this._encoders=new Set}static withDefaultEncoders(t=!1){const r=new this;return r.addEncoder(new Fs(r,t)),r.addEncoder(new vs),r}removeEncoder(t){for(const r of this._encoders.values())r.name==t&&this._encoders.delete(r)}addEncoder(t){this._encoders.add(t)}getEncoderFor(t){let r=null;for(const i of this._encoders)(!r||i.priority>r.priority)&&i.match(t)&&(r=i);if(r===null)throw new Error("Could not find an encoder for value.");return r}serializeValue(t){return this.getEncoderFor(t).encode(t)}serialize(t){return this.serializeValue(t)}}$e.CborSerializer=Rs;class Da extends Rs{serialize(t){return re.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(t))]))}}$e.SelfDescribeCborSerializer=Da;(function(e){function t(u){for(var p in u)e.hasOwnProperty(p)||(e[p]=u[p])}var r=He&&He.__importStar||function(u){if(u&&u.__esModule)return u;var p={};if(u!=null)for(var w in u)Object.hasOwnProperty.call(u,w)&&(p[w]=u[w]);return p.default=u,p};Object.defineProperty(e,"__esModule",{value:!0}),t($e);const i=r(vt);e.value=i})(Xt);class Ma{get name(){return"Principal"}get priority(){return 0}match(t){return t&&t._isPrincipal===!0}encode(t){return Xt.value.bytes(t.toUint8Array())}}class Ca{get name(){return"Buffer"}get priority(){return 1}match(t){return t instanceof ArrayBuffer||ArrayBuffer.isView(t)}encode(t){return Xt.value.bytes(new Uint8Array(t))}}class Pa{get name(){return"BigInt"}get priority(){return 1}match(t){return typeof t=="bigint"}encode(t){return t>BigInt(0)?Xt.value.tagged(2,Xt.value.bytes(Be(t.toString(16)))):Xt.value.tagged(3,Xt.value.bytes(Be((BigInt("-1")*t).toString(16))))}}const Gn=Xt.SelfDescribeCborSerializer.withDefaultEncoders(!0);Gn.addEncoder(new Ma);Gn.addEncoder(new Ca);Gn.addEncoder(new Pa);var gi;(function(e){e[e.Uint64LittleEndian=71]="Uint64LittleEndian",e[e.Semantic=55799]="Semantic"})(gi||(gi={}));class Vc extends ps.Decoder{createByteString(t){return Xe(...t)}createByteStringFromHeap(t,r){return t===r?new ArrayBuffer(0):new Uint8Array(this._heap.slice(t,r))}}var yi;(function(e){e.Call="call"})(yi||(yi={}));BigInt(1e6);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const ka=BigInt(1),Ha=BigInt(2);function $n(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function zn(e){if(!$n(e))throw new Error("Uint8Array expected")}const Ga=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Wn(e){zn(e);let t="";for(let r=0;r<e.length;r++)t+=Ga[e[r]];return t}function Ls(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const le={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function wi(e){if(e>=le._0&&e<=le._9)return e-le._0;if(e>=le._A&&e<=le._F)return e-(le._A-10);if(e>=le._a&&e<=le._f)return e-(le._a-10)}function Os(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(r);for(let u=0,p=0;u<r;u++,p+=2){const w=wi(e.charCodeAt(p)),c=wi(e.charCodeAt(p+1));if(w===void 0||c===void 0){const _=e[p]+e[p+1];throw new Error('hex string expected, got non-hex character "'+_+'" at index '+p)}i[u]=w*16+c}return i}function $a(e){return Ls(Wn(e))}function _r(e){return zn(e),Ls(Wn(Uint8Array.from(e).reverse()))}function Ds(e,t){return Os(e.toString(16).padStart(t*2,"0"))}function _n(e,t){return Ds(e,t).reverse()}function me(e,t,r){let i;if(typeof t=="string")try{i=Os(t)}catch(p){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${p}`)}else if($n(t))i=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const u=i.length;if(typeof r=="number"&&u!==r)throw new Error(`${e} expected ${r} bytes, got ${u}`);return i}function mi(...e){let t=0;for(let i=0;i<e.length;i++){const u=e[i];zn(u),t+=u.length}const r=new Uint8Array(t);for(let i=0,u=0;i<e.length;i++){const p=e[i];r.set(p,u),u+=p.length}return r}const za=e=>(Ha<<BigInt(e-1))-ka,Wa={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||$n(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Yn(e,t,r={}){const i=(u,p,w)=>{const c=Wa[p];if(typeof c!="function")throw new Error(`Invalid validator "${p}", expected function`);const _=e[u];if(!(w&&_===void 0)&&!c(_,e))throw new Error(`Invalid param ${String(u)}=${_} (${typeof _}), expected ${p}`)};for(const[u,p]of Object.entries(t))i(u,p,!1);for(const[u,p]of Object.entries(r))i(u,p,!0);return e}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gt=BigInt(0),Ct=BigInt(1),Re=BigInt(2),Ya=BigInt(3),En=BigInt(4),xi=BigInt(5),_i=BigInt(8);BigInt(9);BigInt(16);function kt(e,t){const r=e%t;return r>=Gt?r:t+r}function Ka(e,t,r){if(r<=Gt||t<Gt)throw new Error("Expected power/modulo > 0");if(r===Ct)return Gt;let i=Ct;for(;t>Gt;)t&Ct&&(i=i*e%r),e=e*e%r,t>>=Ct;return i}function ae(e,t,r){let i=e;for(;t-- >Gt;)i*=i,i%=r;return i}function Ei(e,t){if(e===Gt||t<=Gt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=kt(e,t),i=t,u=Gt,p=Ct;for(;r!==Gt;){const c=i/r,_=i%r,I=u-p*c;i=r,r=_,u=p,p=I}if(i!==Ct)throw new Error("invert: does not exist");return kt(u,t)}function qa(e){const t=(e-Ct)/Re;let r,i,u;for(r=e-Ct,i=0;r%Re===Gt;r/=Re,i++);for(u=Re;u<e&&Ka(u,t,e)!==e-Ct;u++);if(i===1){const w=(e+Ct)/En;return function(_,I){const F=_.pow(I,w);if(!_.eql(_.sqr(F),I))throw new Error("Cannot find square root");return F}}const p=(r+Ct)/Re;return function(c,_){if(c.pow(_,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let I=i,F=c.pow(c.mul(c.ONE,u),r),O=c.pow(_,p),k=c.pow(_,r);for(;!c.eql(k,c.ONE);){if(c.eql(k,c.ZERO))return c.ZERO;let C=1;for(let et=c.sqr(k);C<I&&!c.eql(et,c.ONE);C++)et=c.sqr(et);const rt=c.pow(F,Ct<<BigInt(I-C-1));F=c.sqr(rt),O=c.mul(O,rt),k=c.mul(k,F),I=C}return O}}function Va(e){if(e%En===Ya){const t=(e+Ct)/En;return function(i,u){const p=i.pow(u,t);if(!i.eql(i.sqr(p),u))throw new Error("Cannot find square root");return p}}if(e%_i===xi){const t=(e-xi)/_i;return function(i,u){const p=i.mul(u,Re),w=i.pow(p,t),c=i.mul(u,w),_=i.mul(i.mul(c,Re),w),I=i.mul(c,i.sub(_,i.ONE));if(!i.eql(i.sqr(I),u))throw new Error("Cannot find square root");return I}}return qa(e)}const Xa=(e,t)=>(kt(e,t)&Ct)===Ct,ja=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ja(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=ja.reduce((i,u)=>(i[u]="function",i),t);return Yn(e,r)}function Za(e,t,r){if(r<Gt)throw new Error("Expected power > 0");if(r===Gt)return e.ONE;if(r===Ct)return t;let i=e.ONE,u=t;for(;r>Gt;)r&Ct&&(i=e.mul(i,u)),u=e.sqr(u),r>>=Ct;return i}function Qa(e,t){const r=new Array(t.length),i=t.reduce((p,w,c)=>e.is0(w)?p:(r[c]=p,e.mul(p,w)),e.ONE),u=e.inv(i);return t.reduceRight((p,w,c)=>e.is0(w)?p:(r[c]=e.mul(p,r[c]),e.mul(p,w)),u),r}function Ms(e,t){const r=t!==void 0?t:e.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function tu(e,t,r=!1,i={}){if(e<=Gt)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:u,nByteLength:p}=Ms(e,t);if(p>2048)throw new Error("Field lengths over 2048 bytes are not supported");const w=Va(e),c=Object.freeze({ORDER:e,BITS:u,BYTES:p,MASK:za(u),ZERO:Gt,ONE:Ct,create:_=>kt(_,e),isValid:_=>{if(typeof _!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof _}`);return Gt<=_&&_<e},is0:_=>_===Gt,isOdd:_=>(_&Ct)===Ct,neg:_=>kt(-_,e),eql:(_,I)=>_===I,sqr:_=>kt(_*_,e),add:(_,I)=>kt(_+I,e),sub:(_,I)=>kt(_-I,e),mul:(_,I)=>kt(_*I,e),pow:(_,I)=>Za(c,_,I),div:(_,I)=>kt(_*Ei(I,e),e),sqrN:_=>_*_,addN:(_,I)=>_+I,subN:(_,I)=>_-I,mulN:(_,I)=>_*I,inv:_=>Ei(_,e),sqrt:i.sqrt||(_=>w(c,_)),invertBatch:_=>Qa(c,_),cmov:(_,I,F)=>F?I:_,toBytes:_=>r?_n(_,p):Ds(_,p),fromBytes:_=>{if(_.length!==p)throw new Error(`Fp.fromBytes: expected ${p}, got ${_.length}`);return r?_r(_):$a(_)}});return Object.freeze(c)}function eu(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ru=BigInt(0),Zr=BigInt(1);function nu(e,t){const r=(u,p)=>{const w=p.negate();return u?w:p},i=u=>{const p=Math.ceil(t/u)+1,w=2**(u-1);return{windows:p,windowSize:w}};return{constTimeNegate:r,unsafeLadder(u,p){let w=e.ZERO,c=u;for(;p>ru;)p&Zr&&(w=w.add(c)),c=c.double(),p>>=Zr;return w},precomputeWindow(u,p){const{windows:w,windowSize:c}=i(p),_=[];let I=u,F=I;for(let O=0;O<w;O++){F=I,_.push(F);for(let k=1;k<c;k++)F=F.add(I),_.push(F);I=F.double()}return _},wNAF(u,p,w){const{windows:c,windowSize:_}=i(u);let I=e.ZERO,F=e.BASE;const O=BigInt(2**u-1),k=2**u,C=BigInt(u);for(let rt=0;rt<c;rt++){const et=rt*_;let ht=Number(w&O);w>>=C,ht>_&&(ht-=k,w+=Zr);const St=et,ut=et+Math.abs(ht)-1,Q=rt%2!==0,Nt=ht<0;ht===0?F=F.add(r(Q,p[St])):I=I.add(r(Nt,p[ut]))}return{p:I,f:F}},wNAFCached(u,p,w,c){const _=u._WINDOW_SIZE||1;let I=p.get(u);return I||(I=this.precomputeWindow(u,_),_!==1&&p.set(u,c(I))),this.wNAF(_,I,w)}}}function iu(e){return Ja(e.Fp),Yn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ms(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}Be("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100");const dr=BigInt(2**32-1),bn=BigInt(32);function Cs(e,t=!1){return t?{h:Number(e&dr),l:Number(e>>bn&dr)}:{h:Number(e>>bn&dr)|0,l:Number(e&dr)|0}}function su(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let u=0;u<e.length;u++){const{h:p,l:w}=Cs(e[u],t);[r[u],i[u]]=[p,w]}return[r,i]}const ou=(e,t)=>BigInt(e>>>0)<<bn|BigInt(t>>>0),au=(e,t,r)=>e>>>r,uu=(e,t,r)=>e<<32-r|t>>>r,cu=(e,t,r)=>e>>>r|t<<32-r,fu=(e,t,r)=>e<<32-r|t>>>r,lu=(e,t,r)=>e<<64-r|t>>>r-32,hu=(e,t,r)=>e>>>r-32|t<<64-r,pu=(e,t)=>t,du=(e,t)=>e,gu=(e,t,r)=>e<<r|t>>>32-r,yu=(e,t,r)=>t<<r|e>>>32-r,wu=(e,t,r)=>t<<r-32|e>>>64-r,mu=(e,t,r)=>e<<r-32|t>>>64-r;function xu(e,t,r,i){const u=(t>>>0)+(i>>>0);return{h:e+r+(u/2**32|0)|0,l:u|0}}const _u=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),Eu=(e,t,r,i)=>t+r+i+(e/2**32|0)|0,bu=(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),Au=(e,t,r,i,u)=>t+r+i+u+(e/2**32|0)|0,Iu=(e,t,r,i,u)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(u>>>0),Tu=(e,t,r,i,u,p)=>t+r+i+u+p+(e/2**32|0)|0,Et={fromBig:Cs,split:su,toBig:ou,shrSH:au,shrSL:uu,rotrSH:cu,rotrSL:fu,rotrBH:lu,rotrBL:hu,rotr32H:pu,rotr32L:du,rotlSH:gu,rotlSL:yu,rotlBH:wu,rotlBL:mu,add:xu,add3L:_u,add3H:Eu,add4L:bu,add4H:Au,add5H:Tu,add5L:Iu},[Su,Bu]=Et.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),xe=new Uint32Array(80),_e=new Uint32Array(80);class Nu extends Zi{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:r,Bh:i,Bl:u,Ch:p,Cl:w,Dh:c,Dl:_,Eh:I,El:F,Fh:O,Fl:k,Gh:C,Gl:rt,Hh:et,Hl:ht}=this;return[t,r,i,u,p,w,c,_,I,F,O,k,C,rt,et,ht]}set(t,r,i,u,p,w,c,_,I,F,O,k,C,rt,et,ht){this.Ah=t|0,this.Al=r|0,this.Bh=i|0,this.Bl=u|0,this.Ch=p|0,this.Cl=w|0,this.Dh=c|0,this.Dl=_|0,this.Eh=I|0,this.El=F|0,this.Fh=O|0,this.Fl=k|0,this.Gh=C|0,this.Gl=rt|0,this.Hh=et|0,this.Hl=ht|0}process(t,r){for(let Q=0;Q<16;Q++,r+=4)xe[Q]=t.getUint32(r),_e[Q]=t.getUint32(r+=4);for(let Q=16;Q<80;Q++){const Nt=xe[Q-15]|0,X=_e[Q-15]|0,J=Et.rotrSH(Nt,X,1)^Et.rotrSH(Nt,X,8)^Et.shrSH(Nt,X,7),Z=Et.rotrSL(Nt,X,1)^Et.rotrSL(Nt,X,8)^Et.shrSL(Nt,X,7),lt=xe[Q-2]|0,wt=_e[Q-2]|0,P=Et.rotrSH(lt,wt,19)^Et.rotrBH(lt,wt,61)^Et.shrSH(lt,wt,6),bt=Et.rotrSL(lt,wt,19)^Et.rotrBL(lt,wt,61)^Et.shrSL(lt,wt,6),xt=Et.add4L(Z,bt,_e[Q-7],_e[Q-16]),gt=Et.add4H(xt,J,P,xe[Q-7],xe[Q-16]);xe[Q]=gt|0,_e[Q]=xt|0}let{Ah:i,Al:u,Bh:p,Bl:w,Ch:c,Cl:_,Dh:I,Dl:F,Eh:O,El:k,Fh:C,Fl:rt,Gh:et,Gl:ht,Hh:St,Hl:ut}=this;for(let Q=0;Q<80;Q++){const Nt=Et.rotrSH(O,k,14)^Et.rotrSH(O,k,18)^Et.rotrBH(O,k,41),X=Et.rotrSL(O,k,14)^Et.rotrSL(O,k,18)^Et.rotrBL(O,k,41),J=O&C^~O&et,Z=k&rt^~k&ht,lt=Et.add5L(ut,X,Z,Bu[Q],_e[Q]),wt=Et.add5H(lt,St,Nt,J,Su[Q],xe[Q]),P=lt|0,bt=Et.rotrSH(i,u,28)^Et.rotrBH(i,u,34)^Et.rotrBH(i,u,39),xt=Et.rotrSL(i,u,28)^Et.rotrBL(i,u,34)^Et.rotrBL(i,u,39),gt=i&p^i&c^p&c,Ut=u&w^u&_^w&_;St=et|0,ut=ht|0,et=C|0,ht=rt|0,C=O|0,rt=k|0,{h:O,l:k}=Et.add(I|0,F|0,wt|0,P|0),I=c|0,F=_|0,c=p|0,_=w|0,p=i|0,w=u|0;const Bt=Et.add3L(P,xt,Ut);i=Et.add3H(Bt,wt,bt,gt),u=Bt|0}({h:i,l:u}=Et.add(this.Ah|0,this.Al|0,i|0,u|0)),{h:p,l:w}=Et.add(this.Bh|0,this.Bl|0,p|0,w|0),{h:c,l:_}=Et.add(this.Ch|0,this.Cl|0,c|0,_|0),{h:I,l:F}=Et.add(this.Dh|0,this.Dl|0,I|0,F|0),{h:O,l:k}=Et.add(this.Eh|0,this.El|0,O|0,k|0),{h:C,l:rt}=Et.add(this.Fh|0,this.Fl|0,C|0,rt|0),{h:et,l:ht}=Et.add(this.Gh|0,this.Gl|0,et|0,ht|0),{h:St,l:ut}=Et.add(this.Hh|0,this.Hl|0,St|0,ut|0),this.set(i,u,p,w,c,_,I,F,O,k,C,rt,et,ht,St,ut)}roundClean(){xe.fill(0),_e.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Ps=Fn(()=>new Nu);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ee=BigInt(0),Vt=BigInt(1),gr=BigInt(2),Uu=BigInt(8),Fu={zip215:!0};function vu(e){const t=iu(e);return Yn(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function Kn(e){const t=vu(e),{Fp:r,n:i,prehash:u,hash:p,randomBytes:w,nByteLength:c,h:_}=t,I=gr<<BigInt(c*8)-Vt,F=r.create,O=t.uvRatio||((Y,H)=>{try{return{isValid:!0,value:r.sqrt(Y*r.inv(H))}}catch{return{isValid:!1,value:ee}}}),k=t.adjustScalarBytes||(Y=>Y),C=t.domain||((Y,H,W)=>{if(H.length||W)throw new Error("Contexts/pre-hash are not supported");return Y}),rt=Y=>typeof Y=="bigint"&&ee<Y,et=(Y,H)=>rt(Y)&&rt(H)&&Y<H,ht=Y=>Y===ee||et(Y,I);function St(Y,H){if(et(Y,H))return Y;throw new Error(`Expected valid scalar < ${H}, got ${typeof Y} ${Y}`)}function ut(Y){return Y===ee?Y:St(Y,i)}const Q=new Map;function Nt(Y){if(!(Y instanceof X))throw new Error("ExtendedPoint expected")}class X{constructor(H,W,$,G){if(this.ex=H,this.ey=W,this.ez=$,this.et=G,!ht(H))throw new Error("x required");if(!ht(W))throw new Error("y required");if(!ht($))throw new Error("z required");if(!ht(G))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(H){if(H instanceof X)throw new Error("extended point not allowed");const{x:W,y:$}=H||{};if(!ht(W)||!ht($))throw new Error("invalid affine point");return new X(W,$,Vt,F(W*$))}static normalizeZ(H){const W=r.invertBatch(H.map($=>$.ez));return H.map(($,G)=>$.toAffine(W[G])).map(X.fromAffine)}_setWindowSize(H){this._WINDOW_SIZE=H,Q.delete(this)}assertValidity(){const{a:H,d:W}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:$,ey:G,ez:pt,et:d}=this,mt=F($*$),dt=F(G*G),At=F(pt*pt),z=F(At*At),q=F(mt*H),y=F(At*F(q+dt)),m=F(z+F(W*F(mt*dt)));if(y!==m)throw new Error("bad point: equation left != right (1)");const E=F($*G),N=F(pt*d);if(E!==N)throw new Error("bad point: equation left != right (2)")}equals(H){Nt(H);const{ex:W,ey:$,ez:G}=this,{ex:pt,ey:d,ez:mt}=H,dt=F(W*mt),At=F(pt*G),z=F($*mt),q=F(d*G);return dt===At&&z===q}is0(){return this.equals(X.ZERO)}negate(){return new X(F(-this.ex),this.ey,this.ez,F(-this.et))}double(){const{a:H}=t,{ex:W,ey:$,ez:G}=this,pt=F(W*W),d=F($*$),mt=F(gr*F(G*G)),dt=F(H*pt),At=W+$,z=F(F(At*At)-pt-d),q=dt+d,y=q-mt,m=dt-d,E=F(z*y),N=F(q*m),S=F(z*m),U=F(y*q);return new X(E,N,U,S)}add(H){Nt(H);const{a:W,d:$}=t,{ex:G,ey:pt,ez:d,et:mt}=this,{ex:dt,ey:At,ez:z,et:q}=H;if(W===BigInt(-1)){const v=F((pt-G)*(At+dt)),M=F((pt+G)*(At-dt)),K=F(M-v);if(K===ee)return this.double();const V=F(d*gr*q),ct=F(mt*gr*z),l=ct+V,o=M+v,a=ct-V,x=F(l*K),T=F(o*a),L=F(l*a),R=F(K*o);return new X(x,T,R,L)}const y=F(G*dt),m=F(pt*At),E=F(mt*$*q),N=F(d*z),S=F((G+pt)*(dt+At)-y-m),U=N-E,f=N+E,n=F(m-W*y),s=F(S*U),h=F(f*n),g=F(S*n),b=F(U*f);return new X(s,h,b,g)}subtract(H){return this.add(H.negate())}wNAF(H){return lt.wNAFCached(this,Q,H,X.normalizeZ)}multiply(H){const{p:W,f:$}=this.wNAF(St(H,i));return X.normalizeZ([W,$])[0]}multiplyUnsafe(H){let W=ut(H);return W===ee?Z:this.equals(Z)||W===Vt?this:this.equals(J)?this.wNAF(W).p:lt.unsafeLadder(this,W)}isSmallOrder(){return this.multiplyUnsafe(_).is0()}isTorsionFree(){return lt.unsafeLadder(this,i).is0()}toAffine(H){const{ex:W,ey:$,ez:G}=this,pt=this.is0();H==null&&(H=pt?Uu:r.inv(G));const d=F(W*H),mt=F($*H),dt=F(G*H);if(pt)return{x:ee,y:Vt};if(dt!==Vt)throw new Error("invZ was invalid");return{x:d,y:mt}}clearCofactor(){const{h:H}=t;return H===Vt?this:this.multiplyUnsafe(H)}static fromHex(H,W=!1){const{d:$,a:G}=t,pt=r.BYTES;H=me("pointHex",H,pt);const d=H.slice(),mt=H[pt-1];d[pt-1]=mt&-129;const dt=_r(d);dt===ee||(W?St(dt,I):St(dt,r.ORDER));const At=F(dt*dt),z=F(At-Vt),q=F($*At-G);let{isValid:y,value:m}=O(z,q);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const E=(m&Vt)===Vt,N=(mt&128)!==0;if(!W&&m===ee&&N)throw new Error("Point.fromHex: x=0 and x_0=1");return N!==E&&(m=F(-m)),X.fromAffine({x:m,y:dt})}static fromPrivateKey(H){return bt(H).point}toRawBytes(){const{x:H,y:W}=this.toAffine(),$=_n(W,r.BYTES);return $[$.length-1]|=H&Vt?128:0,$}toHex(){return Wn(this.toRawBytes())}}X.BASE=new X(t.Gx,t.Gy,Vt,F(t.Gx*t.Gy)),X.ZERO=new X(ee,Vt,Vt,ee);const{BASE:J,ZERO:Z}=X,lt=nu(X,c*8);function wt(Y){return kt(Y,i)}function P(Y){return wt(_r(Y))}function bt(Y){const H=c;Y=me("private key",Y,H);const W=me("hashed private key",p(Y),2*H),$=k(W.slice(0,H)),G=W.slice(H,2*H),pt=P($),d=J.multiply(pt),mt=d.toRawBytes();return{head:$,prefix:G,scalar:pt,point:d,pointBytes:mt}}function xt(Y){return bt(Y).pointBytes}function gt(Y=new Uint8Array,...H){const W=mi(...H);return P(p(C(W,me("context",Y),!!u)))}function Ut(Y,H,W={}){Y=me("message",Y),u&&(Y=u(Y));const{prefix:$,scalar:G,pointBytes:pt}=bt(H),d=gt(W.context,$,Y),mt=J.multiply(d).toRawBytes(),dt=gt(W.context,mt,pt,Y),At=wt(d+dt*G);ut(At);const z=mi(mt,_n(At,r.BYTES));return me("result",z,c*2)}const Bt=Fu;function $t(Y,H,W,$=Bt){const{context:G,zip215:pt}=$,d=r.BYTES;Y=me("signature",Y,2*d),H=me("message",H),u&&(H=u(H));const mt=_r(Y.slice(d,2*d));let dt,At,z;try{dt=X.fromHex(W,pt),At=X.fromHex(Y.slice(0,d),pt),z=J.multiplyUnsafe(mt)}catch{return!1}if(!pt&&dt.isSmallOrder())return!1;const q=gt(G,At.toRawBytes(),dt.toRawBytes(),H);return At.add(dt.multiplyUnsafe(q)).subtract(z).clearCofactor().equals(X.ZERO)}return J._setWindowSize(8),{CURVE:t,getPublicKey:xt,sign:Ut,verify:$t,ExtendedPoint:X,utils:{getExtendedPublicKey:bt,randomPrivateKey:()=>w(r.BYTES),precompute(Y=8,H=X.BASE){return H._setWindowSize(Y),H.multiply(BigInt(3)),H}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qn=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),bi=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Ru=BigInt(1),An=BigInt(2),Lu=BigInt(5),Ai=BigInt(10),Ou=BigInt(20),Du=BigInt(40),Ii=BigInt(80);function Mu(e){const t=qn,i=e*e%t*e%t,u=ae(i,An,t)*i%t,p=ae(u,Ru,t)*e%t,w=ae(p,Lu,t)*p%t,c=ae(w,Ai,t)*w%t,_=ae(c,Ou,t)*c%t,I=ae(_,Du,t)*_%t,F=ae(I,Ii,t)*I%t,O=ae(F,Ii,t)*I%t,k=ae(O,Ai,t)*w%t;return{pow_p_5_8:ae(k,An,t)*e%t,b2:i}}function Cu(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Pu(e,t){const r=qn,i=kt(t*t*t,r),u=kt(i*i*t,r),p=Mu(e*u).pow_p_5_8;let w=kt(e*i*p,r);const c=kt(t*w*w,r),_=w,I=kt(w*bi,r),F=c===e,O=c===kt(-e,r),k=c===kt(-e*bi,r);return F&&(w=_),(O||k)&&(w=I),Xa(w,r)&&(w=kt(-w,r)),{isValid:F||O,value:w}}const pe=tu(qn,void 0,!0),Vn={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:pe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Ps,randomBytes:Eo,adjustScalarBytes:Cu,uvRatio:Pu},ze=Kn(Vn);function ks(e,t,r){if(t.length>255)throw new Error("Context is too big");return xo(ji("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,t.length]),t,e)}({...Vn});({...Vn});const ku=(pe.ORDER+BigInt(3))/BigInt(8);pe.pow(An,ku);pe.sqrt(pe.neg(pe.ONE));(pe.ORDER-BigInt(5))/BigInt(8);BigInt(486662);eu(pe,pe.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Ti=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},Si=(e,t,r)=>{if(r<=127)return e[t]=r,1;if(r<=255)return e[t]=129,e[t+1]=r,2;if(r<=65535)return e[t]=130,e[t+1]=r>>8,e[t+2]=r,3;if(r<=16777215)return e[t]=131,e[t+1]=r>>16,e[t+2]=r>>8,e[t+3]=r,4;throw new Error("Length too long (> 4 bytes)")},In=(e,t)=>{if(e[t]<128)return 1;if(e[t]===128)throw new Error("Invalid length 0");if(e[t]===129)return 2;if(e[t]===130)return 3;if(e[t]===131)return 4;throw new Error("Length too long (> 4 bytes)")},Hu=(e,t)=>{const r=In(e,t);if(r===1)return e[t];if(r===2)return e[t+1];if(r===3)return(e[t+1]<<8)+e[t+2];if(r===4)return(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const Bi=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function Gu(e,t){const r=2+Ti(e.byteLength+1),i=t.byteLength+r+e.byteLength;let u=0;const p=new Uint8Array(1+Ti(i)+i);return p[u++]=48,u+=Si(p,u,i),p.set(t,u),u+=t.byteLength,p[u++]=3,u+=Si(p,u,e.byteLength+1),p[u++]=0,p.set(new Uint8Array(e),u),p}const $u=(e,t)=>{let r=0;const i=(c,_)=>{if(u[r++]!==c)throw new Error("Expected: "+_)},u=new Uint8Array(e);if(i(48,"sequence"),r+=In(u,r),!gs(u.slice(r,r+t.byteLength),t))throw new Error("Not the expected OID.");r+=t.byteLength,i(3,"bit string");const p=Hu(u,r)-1;r+=In(u,r),i(0,"0 padding");const w=u.slice(r);if(p!==w.length)throw new Error(`DER payload mismatch: Expected length ${p} actual length ${w.length}`);return w};var Ni;(function(e){e.Received="received",e.Processing="processing",e.Replied="replied",e.Rejected="rejected",e.Unknown="unknown",e.Done="done"})(Ni||(Ni={}));var Ui;(function(e){e.Error="err",e.GetPrincipal="gp",e.GetPrincipalResponse="gpr",e.Query="q",e.QueryResponse="qr",e.Call="c",e.CallResponse="cr",e.ReadState="rs",e.ReadStateResponse="rsr",e.Status="s",e.StatusResponse="sr"})(Ui||(Ui={}));var Nr=function(e,t,r,i,u){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!u:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?u.call(e,r):u?u.value=r:t.set(e,r),r},be=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},Er,br,Ce,Pe;function Fi(e){return e!==null&&typeof e=="object"}class he{constructor(t){if(Er.set(this,void 0),br.set(this,void 0),t.byteLength!==he.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Nr(this,Er,t,"f"),Nr(this,br,he.derEncode(t),"f")}static from(t){if(typeof t=="string"){const r=Be(t);return this.fromRaw(r)}else if(Fi(t)){const r=t;if(Fi(r)&&Object.hasOwnProperty.call(r,"__derEncodedPublicKey__"))return this.fromDer(r);if(ArrayBuffer.isView(r)){const i=r;return this.fromRaw(ys(i.buffer))}else{if(r instanceof ArrayBuffer)return this.fromRaw(r);if("rawKey"in r)return this.fromRaw(r.rawKey);if("derKey"in r)return this.fromDer(r.derKey);if("toDer"in r)return this.fromDer(r.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(t){return new he(t)}static fromDer(t){return new he(this.derDecode(t))}static derEncode(t){const r=Gu(t,Bi).buffer;return r.__derEncodedPublicKey__=void 0,r}static derDecode(t){const r=$u(t,Bi);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return r}get rawKey(){return be(this,Er,"f")}get derKey(){return be(this,br,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}Er=new WeakMap,br=new WeakMap;he.RAW_KEY_LENGTH=32;class Te extends Pn{constructor(t,r){super(),Ce.set(this,void 0),Pe.set(this,void 0),Nr(this,Ce,he.from(t),"f"),Nr(this,Pe,new Uint8Array(r),"f")}static generate(t){if(t&&t.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");t||(t=ze.utils.randomPrivateKey()),gs(t,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const r=new Uint8Array(32);for(let u=0;u<32;u++)r[u]=new Uint8Array(t)[u];const i=ze.getPublicKey(r);return Te.fromKeyPair(i,r)}static fromParsedJson(t){const[r,i]=t;return new Te(he.fromDer(Be(r)),Be(i))}static fromJSON(t){const r=JSON.parse(t);if(Array.isArray(r)){if(typeof r[0]=="string"&&typeof r[1]=="string")return this.fromParsedJson([r[0],r[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(t)}`)}static fromKeyPair(t,r){return new Te(he.fromRaw(t),r)}static fromSecretKey(t){const r=ze.getPublicKey(new Uint8Array(t));return Te.fromKeyPair(r,t)}toJSON(){return[ke(be(this,Ce,"f").toDer()),ke(be(this,Pe,"f"))]}getKeyPair(){return{secretKey:be(this,Pe,"f"),publicKey:be(this,Ce,"f")}}getPublicKey(){return be(this,Ce,"f")}async sign(t){const r=new Uint8Array(t),i=Ve(ze.sign(r,be(this,Pe,"f").slice(0,32)));return Object.defineProperty(i,"__signature__",{enumerable:!1,value:void 0}),i}static verify(t,r,i){const[u,p,w]=[t,r,i].map(c=>(typeof c=="string"&&(c=Be(c)),c instanceof Uint8Array&&(c=c.buffer),new Uint8Array(c)));return ze.verify(p,u,w)}}Ce=new WeakMap,Pe=new WeakMap;class Xn extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,Xn.prototype)}}function vi(e){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(e)return e;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new Xn("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class Ur extends Pn{constructor(t,r,i){super(),this._keyPair=t,this._derKey=r,this._subtleCrypto=i}static async generate(t){const{extractable:r=!1,keyUsages:i=["sign","verify"],subtleCrypto:u}=t??{},p=vi(u),w=await p.generateKey({name:"ECDSA",namedCurve:"P-256"},r,i),c=await p.exportKey("spki",w.publicKey);return new this(w,c,p)}static async fromKeyPair(t,r){const i=vi(r),u=await i.exportKey("spki",t.publicKey);return new Ur(t,u,i)}getKeyPair(){return this._keyPair}getPublicKey(){const t=this._derKey,r=Object.create(this._keyPair.publicKey);return r.toDer=function(){return t},r}async sign(t){const r={name:"ECDSA",hash:{name:"SHA-256"}};return this._keyPair.privateKey,await this._subtleCrypto.sign(r,this._keyPair.privateKey,t)}}var zu=function(e,t,r,i,u){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!u:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?u.call(e,r):u?u.value=r:t.set(e,r),r},We=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},Ee;class Wu{constructor(t){Ee.set(this,void 0),zu(this,Ee,t,"f")}get rawKey(){return We(this,Ee,"f").rawKey}get derKey(){return We(this,Ee,"f").derKey}toDer(){return We(this,Ee,"f").toDer()}getPublicKey(){return We(this,Ee,"f")}getPrincipal(){return Se.from(We(this,Ee,"f").rawKey)}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}Ee=new WeakMap;var Yu=function(e,t,r,i,u){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!u:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?u.call(e,r):u?u.value=r:t.set(e,r),r},Ku=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},qu=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(r[i[u]]=e[i[u]]);return r},Ar;const Vu=new TextEncoder().encode("ic-request-auth-delegation"),Xu=new TextEncoder().encode(`
ic-request`);function Qr(e){if(typeof e!="string"||e.length<64)throw new Error("Invalid public key.");return Be(e)}class jn{constructor(t,r,i){this.pubkey=t,this.expiration=r,this.targets=i}toCBOR(){return Xt.value.map(Object.assign({pubkey:Xt.value.bytes(this.pubkey),expiration:Xt.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:Xt.value.array(this.targets.map(t=>Xt.value.bytes(t.toUint8Array())))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:ke(this.pubkey)},this.targets&&{targets:this.targets.map(t=>t.toHex())})}}async function ju(e,t,r,i){const u=new jn(t.toDer(),BigInt(+r)*BigInt(1e6),i),p=new Uint8Array([...Vu,...new Uint8Array(Cn(u))]),w=await e.sign(p);return{delegation:u,signature:w}}class Fr{constructor(t,r){this.delegations=t,this.publicKey=r}static async create(t,r,i=new Date(Date.now()+15*60*1e3),u={}){var p,w;const c=await ju(t,r,i,u.targets);return new Fr([...((p=u.previous)===null||p===void 0?void 0:p.delegations)||[],c],((w=u.previous)===null||w===void 0?void 0:w.publicKey)||t.getPublicKey().toDer())}static fromJSON(t){const{publicKey:r,delegations:i}=typeof t=="string"?JSON.parse(t):t;if(!Array.isArray(i))throw new Error("Invalid delegations.");const u=i.map(p=>{const{delegation:w,signature:c}=p,{pubkey:_,expiration:I,targets:F}=w;if(F!==void 0&&!Array.isArray(F))throw new Error("Invalid targets.");return{delegation:new jn(Qr(_),BigInt("0x"+I),F&&F.map(O=>{if(typeof O!="string")throw new Error("Invalid target.");return Se.fromHex(O)})),signature:Qr(c)}});return new this(u,Qr(r))}static fromDelegations(t,r){return new this(t,r)}toJSON(){return{delegations:this.delegations.map(t=>{const{delegation:r,signature:i}=t,{targets:u}=r;return{delegation:Object.assign({expiration:r.expiration.toString(16),pubkey:ke(r.pubkey)},u&&{targets:u.map(p=>p.toHex())}),signature:ke(i)}}),publicKey:ke(this.publicKey)}}}class Ri extends Pn{constructor(t,r){super(),this._inner=t,this._delegation=r}static fromDelegation(t,r){return new this(t,r)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(t){return this._inner.sign(t)}async transformRequest(t){const{body:r}=t,i=qu(t,["body"]),u=await Cn(r);return Object.assign(Object.assign({},i),{body:{content:r,sender_sig:await this.sign(new Uint8Array([...Xu,...new Uint8Array(u)])),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class vr extends Wu{constructor(t,r){super(t),Ar.set(this,void 0),Yu(this,Ar,r,"f")}get delegation(){return Ku(this,Ar,"f")}static fromDelegation(t,r){return new vr(t,r)}}Ar=new WeakMap;function Ju(e,t){for(const{delegation:i}of e.delegations)if(+new Date(Number(i.expiration/BigInt(1e6)))<=+Date.now())return!1;const r=[];for(const i of r){const u=i.toText();for(const{delegation:p}of e.delegations){if(p.targets===void 0)continue;let w=!0;for(const c of p.targets)if(c.toText()===u){w=!1;break}if(w)return!1}}return!0}var Li;(function(e){e[e.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(Li||(Li={}));const Oi=["mousedown","mousemove","keydown","touchstart","wheel"];class Di{constructor(t={}){var r;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;const{onIdle:i,idleTimeout:u=10*60*1e3}=t||{};this.callbacks=i?[i]:[],this.idleTimeout=u;const p=this._resetTimer.bind(this);window.addEventListener("load",p,!0),Oi.forEach(function(c){document.addEventListener(c,p,!0)});const w=(c,_)=>{let I;return(...F)=>{const O=this,k=function(){I=void 0,c.apply(O,F)};clearTimeout(I),I=window.setTimeout(k,_)}};if(t?.captureScroll){const c=w(p,(r=t?.scrollDebounce)!==null&&r!==void 0?r:100);window.addEventListener("scroll",c,!0)}p()}static create(t={}){return new this(t)}registerCallback(t){this.callbacks.push(t)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const t=this._resetTimer.bind(this);Oi.forEach(function(r){document.removeEventListener(r,t,!0)}),this.callbacks.forEach(r=>r())}_resetTimer(){const t=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(t,this.idleTimeout)}}const Zu=(e,t)=>t.some(r=>e instanceof r);let Mi,Ci;function Qu(){return Mi||(Mi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tc(){return Ci||(Ci=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hs=new WeakMap,Tn=new WeakMap,Gs=new WeakMap,tn=new WeakMap,Jn=new WeakMap;function ec(e){const t=new Promise((r,i)=>{const u=()=>{e.removeEventListener("success",p),e.removeEventListener("error",w)},p=()=>{r(Ne(e.result)),u()},w=()=>{i(e.error),u()};e.addEventListener("success",p),e.addEventListener("error",w)});return t.then(r=>{r instanceof IDBCursor&&Hs.set(r,e)}).catch(()=>{}),Jn.set(t,e),t}function rc(e){if(Tn.has(e))return;const t=new Promise((r,i)=>{const u=()=>{e.removeEventListener("complete",p),e.removeEventListener("error",w),e.removeEventListener("abort",w)},p=()=>{r(),u()},w=()=>{i(e.error||new DOMException("AbortError","AbortError")),u()};e.addEventListener("complete",p),e.addEventListener("error",w),e.addEventListener("abort",w)});Tn.set(e,t)}let Sn={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Tn.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Gs.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ne(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function nc(e){Sn=e(Sn)}function ic(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const i=e.call(en(this),t,...r);return Gs.set(i,t.sort?t.sort():[t]),Ne(i)}:tc().includes(e)?function(...t){return e.apply(en(this),t),Ne(Hs.get(this))}:function(...t){return Ne(e.apply(en(this),t))}}function sc(e){return typeof e=="function"?ic(e):(e instanceof IDBTransaction&&rc(e),Zu(e,Qu())?new Proxy(e,Sn):e)}function Ne(e){if(e instanceof IDBRequest)return ec(e);if(tn.has(e))return tn.get(e);const t=sc(e);return t!==e&&(tn.set(e,t),Jn.set(t,e)),t}const en=e=>Jn.get(e);function oc(e,t,{blocked:r,upgrade:i,blocking:u,terminated:p}={}){const w=indexedDB.open(e,t),c=Ne(w);return i&&w.addEventListener("upgradeneeded",_=>{i(Ne(w.result),_.oldVersion,_.newVersion,Ne(w.transaction),_)}),r&&w.addEventListener("blocked",_=>r(_.oldVersion,_.newVersion,_)),c.then(_=>{p&&_.addEventListener("close",()=>p()),u&&_.addEventListener("versionchange",I=>u(I.oldVersion,I.newVersion,I))}).catch(()=>{}),c}const ac=["get","getKey","getAll","getAllKeys","count"],uc=["put","add","delete","clear"],rn=new Map;function Pi(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(rn.get(t))return rn.get(t);const r=t.replace(/FromIndex$/,""),i=t!==r,u=uc.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(u||ac.includes(r)))return;const p=async function(w,...c){const _=this.transaction(w,u?"readwrite":"readonly");let I=_.store;return i&&(I=I.index(c.shift())),(await Promise.all([I[r](...c),u&&_.done]))[0]};return rn.set(t,p),p}nc(e=>({...e,get:(t,r,i)=>Pi(t,r)||e.get(t,r,i),has:(t,r)=>!!Pi(t,r)||e.has(t,r)}));const $s="auth-client-db",zs="ic-keyval",cc=async(e=$s,t=zs,r)=>(Ws&&(localStorage!=null&&localStorage.getItem(Ie))&&(localStorage.removeItem(Ie),localStorage.removeItem(Ae)),await oc(e,r,{upgrade:i=>{i.objectStoreNames,i.objectStoreNames.contains(t)&&i.clear(t),i.createObjectStore(t)}}));async function fc(e,t,r){return await e.get(t,r)}async function lc(e,t,r,i){return await e.put(t,i,r)}async function hc(e,t,r){return await e.delete(t,r)}class Zn{constructor(t,r){this._db=t,this._storeName=r}static async create(t){const{dbName:r=$s,storeName:i=zs,version:u=yc}=t??{},p=await cc(r,i,u);return new Zn(p,i)}async set(t,r){return await lc(this._db,this._storeName,t,r)}async get(t){var r;return(r=await fc(this._db,this._storeName,t))!==null&&r!==void 0?r:null}async remove(t){return await hc(this._db,this._storeName,t)}}var pc=function(e,t,r,i,u){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!u:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?u.call(e,r):u?u.value=r:t.set(e,r),r},dc=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)},Ir;const Ae="identity",Ie="delegation",gc="iv",yc=1,Ws=typeof window<"u";class wc{constructor(t="ic-",r){this.prefix=t,this._localStorage=r}get(t){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+t))}set(t,r){return this._getLocalStorage().setItem(this.prefix+t,r),Promise.resolve()}remove(t){return this._getLocalStorage().removeItem(this.prefix+t),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const t=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!t)throw new Error("Could not find local storage.");return t}}class mc{constructor(t){Ir.set(this,void 0),pc(this,Ir,t??{},"f")}get _db(){return new Promise(t=>{if(this.initializedDb){t(this.initializedDb);return}Zn.create(dc(this,Ir,"f")).then(r=>{this.initializedDb=r,t(r)})})}async get(t){return await(await this._db).get(t)}async set(t,r){await(await this._db).set(t,r)}async remove(t){await(await this._db).remove(t)}}Ir=new WeakMap;const xc="https://identity.ic0.app",_c="#authorize",nn="ECDSA",sn="Ed25519",Ec=500,bc="UserInterrupt";class Xc{constructor(t,r,i,u,p,w,c,_){this._identity=t,this._key=r,this._chain=i,this._storage=u,this.idleManager=p,this._createOptions=w,this._idpWindow=c,this._eventHandler=_,this._registerDefaultIdleCallback()}static async create(t={}){var r,i,u;const p=(r=t.storage)!==null&&r!==void 0?r:new mc,w=(i=t.keyType)!==null&&i!==void 0?i:nn;let c=null;if(t.identity)c=t.identity;else{let O=await p.get(Ae);if(!O&&Ws)try{const k=new wc,C=await k.get(Ie),rt=await k.get(Ae);C&&rt&&w===nn&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await p.set(Ie,C),await p.set(Ae,rt),O=C,await k.remove(Ie),await k.remove(Ae))}catch(k){console.error("error while attempting to recover localstorage: "+k)}if(O)try{typeof O=="object"?w===sn&&typeof O=="string"?c=await Te.fromJSON(O):c=await Ur.fromKeyPair(O):typeof O=="string"&&(c=Te.fromJSON(O))}catch{}}let _=new di,I=null;if(c)try{const O=await p.get(Ie);if(typeof O=="object"&&O!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");t.identity?_=t.identity:O&&(I=Fr.fromJSON(O),Ju(I)?"toDer"in c?_=vr.fromDelegation(c,I):_=Ri.fromDelegation(c,I):(await on(p),c=null))}catch(O){console.error(O),await on(p),c=null}let F;return!((u=t.idleOptions)===null||u===void 0)&&u.disableIdle?F=void 0:(I||t.identity)&&(F=Di.create(t.idleOptions)),c||(w===sn?(c=await Te.generate(),await p.set(Ae,JSON.stringify(c.toJSON()))):(t.storage&&w===nn&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${sn}' as the key type, as it can serialize to a string`),c=await Ur.generate(),await p.set(Ae,c.getKeyPair()))),new this(_,c,I,p,F,t)}_registerDefaultIdleCallback(){var t,r;const i=(t=this._createOptions)===null||t===void 0?void 0:t.idleOptions;!i?.onIdle&&!i?.disableDefaultIdleCallback&&((r=this.idleManager)===null||r===void 0||r.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(t,r){var i,u;const p=t.delegations.map(I=>({delegation:new jn(I.delegation.pubkey,I.delegation.expiration,I.delegation.targets),signature:I.signature.buffer})),w=Fr.fromDelegations(p,t.userPublicKey.buffer),c=this._key;if(!c)return;this._chain=w,"toDer"in c?this._identity=vr.fromDelegation(c,this._chain):this._identity=Ri.fromDelegation(c,this._chain),(i=this._idpWindow)===null||i===void 0||i.close();const _=(u=this._createOptions)===null||u===void 0?void 0:u.idleOptions;!this.idleManager&&!_?.disableIdle&&(this.idleManager=Di.create(_),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(Ie,JSON.stringify(this._chain.toJSON())),r?.(t)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(t){var r,i,u,p;const w=BigInt(8)*BigInt(36e11),c=new URL(((r=t?.identityProvider)===null||r===void 0?void 0:r.toString())||xc);c.hash=_c,(i=this._idpWindow)===null||i===void 0||i.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(c,Object.assign({maxTimeToLive:(u=t?.maxTimeToLive)!==null&&u!==void 0?u:w},t)),window.addEventListener("message",this._eventHandler),this._idpWindow=(p=window.open(c.toString(),"idpWindow",t?.windowOpenerFeatures))!==null&&p!==void 0?p:void 0;const _=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(bc,t?.onError):setTimeout(_,Ec))};_()}_getEventHandler(t,r){return async i=>{var u,p,w;if(i.origin!==t.origin){console.warn(`WARNING: expected origin '${t.origin}', got '${i.origin}' (ignoring)`);return}const c=i.data;switch(c.kind){case"authorize-ready":{const _=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((u=this._key)===null||u===void 0?void 0:u.getPublicKey().toDer()),maxTimeToLive:r?.maxTimeToLive,allowPinAuthentication:r?.allowPinAuthentication,derivationOrigin:(p=r?.derivationOrigin)===null||p===void 0?void 0:p.toString()},r?.customValues);(w=this._idpWindow)===null||w===void 0||w.postMessage(_,t.origin);break}case"authorize-client-success":try{await this._handleSuccess(c,r?.onSuccess)}catch(_){this._handleFailure(_.message,r?.onError)}break;case"authorize-client-failure":this._handleFailure(c.text,r?.onError);break}}}_handleFailure(t,r){var i;(i=this._idpWindow)===null||i===void 0||i.close(),r?.(t),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(t={}){if(await on(this._storage),this._identity=new di,this._chain=null,t.returnTo)try{window.history.pushState({},"",t.returnTo)}catch{window.location.href=t.returnTo}}}async function on(e){await e.remove(Ae),await e.remove(Ie),await e.remove(gc)}var Ac=(e=>(e[e.FractionalMoreThan8Decimals=0]="FractionalMoreThan8Decimals",e[e.InvalidFormat=1]="InvalidFormat",e[e.FractionalTooManyDecimals=2]="FractionalTooManyDecimals",e))(Ac||{});BigInt(1e8);var Ic=e=>e==null,jc=e=>!Ic(e),ki="abcdefghijklmnopqrstuvwxyz234567",je=Object.create(null);for(let e=0;e<ki.length;e++)je[ki[e]]=e;je[0]=je.o;je[1]=je.i;/*! @license DOMPurify 3.1.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.4/LICENSE */const{entries:Ys,setPrototypeOf:Hi,isFrozen:Tc,getPrototypeOf:Sc,getOwnPropertyDescriptor:Bc}=Object;let{freeze:Kt,seal:Zt,create:Ks}=Object,{apply:Bn,construct:Nn}=typeof Reflect<"u"&&Reflect;Kt||(Kt=function(t){return t});Zt||(Zt=function(t){return t});Bn||(Bn=function(t,r,i){return t.apply(r,i)});Nn||(Nn=function(t,r){return new t(...r)});const yr=jt(Array.prototype.forEach),Gi=jt(Array.prototype.pop),Ye=jt(Array.prototype.push),Tr=jt(String.prototype.toLowerCase),an=jt(String.prototype.toString),$i=jt(String.prototype.match),Ke=jt(String.prototype.replace),Nc=jt(String.prototype.indexOf),Uc=jt(String.prototype.trim),ne=jt(Object.prototype.hasOwnProperty),Yt=jt(RegExp.prototype.test),qe=Fc(TypeError);function zi(e){return typeof e=="number"&&isNaN(e)}function jt(e){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];return Bn(e,t,i)}}function Fc(e){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return Nn(e,r)}}function It(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Tr;Hi&&Hi(e,null);let i=t.length;for(;i--;){let u=t[i];if(typeof u=="string"){const p=r(u);p!==u&&(Tc(t)||(t[i]=p),u=p)}e[u]=!0}return e}function vc(e){for(let t=0;t<e.length;t++)ne(e,t)||(e[t]=null);return e}function Fe(e){const t=Ks(null);for(const[r,i]of Ys(e))ne(e,r)&&(Array.isArray(i)?t[r]=vc(i):i&&typeof i=="object"&&i.constructor===Object?t[r]=Fe(i):t[r]=i);return t}function wr(e,t){for(;e!==null;){const i=Bc(e,t);if(i){if(i.get)return jt(i.get);if(typeof i.value=="function")return jt(i.value)}e=Sc(e)}function r(){return null}return r}const Wi=Kt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),un=Kt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),cn=Kt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Rc=Kt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),fn=Kt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Lc=Kt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Yi=Kt(["#text"]),Ki=Kt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ln=Kt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qi=Kt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),mr=Kt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Oc=Zt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Dc=Zt(/<%[\w\W]*|[\w\W]*%>/gm),Mc=Zt(/\${[\w\W]*}/gm),Cc=Zt(/^data-[\-\w.\u00B7-\uFFFF]/),Pc=Zt(/^aria-[\-\w]+$/),qs=Zt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),kc=Zt(/^(?:\w+script|data):/i),Hc=Zt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Vs=Zt(/^html$/i),Gc=Zt(/^[a-z][.\w]*(-[.\w]+)+$/i);var Vi=Object.freeze({__proto__:null,MUSTACHE_EXPR:Oc,ERB_EXPR:Dc,TMPLIT_EXPR:Mc,DATA_ATTR:Cc,ARIA_ATTR:Pc,IS_ALLOWED_URI:qs,IS_SCRIPT_OR_DATA:kc,ATTR_WHITESPACE:Hc,DOCTYPE_NAME:Vs,CUSTOM_ELEMENT:Gc});const Ue={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},$c=function(){return typeof window>"u"?null:window},zc=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const u="data-tt-policy-suffix";r&&r.hasAttribute(u)&&(i=r.getAttribute(u));const p="dompurify"+(i?"#"+i:"");try{return t.createPolicy(p,{createHTML(w){return w},createScriptURL(w){return w}})}catch{return console.warn("TrustedTypes policy "+p+" could not be created."),null}};function Xs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$c();const t=tt=>Xs(tt);if(t.version="3.1.4",t.removed=[],!e||!e.document||e.document.nodeType!==Ue.document)return t.isSupported=!1,t;let{document:r}=e;const i=r,u=i.currentScript,{DocumentFragment:p,HTMLTemplateElement:w,Node:c,Element:_,NodeFilter:I,NamedNodeMap:F=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:O,DOMParser:k,trustedTypes:C}=e,rt=_.prototype,et=wr(rt,"cloneNode"),ht=wr(rt,"nextSibling"),St=wr(rt,"childNodes"),ut=wr(rt,"parentNode");if(typeof w=="function"){const tt=r.createElement("template");tt.content&&tt.content.ownerDocument&&(r=tt.content.ownerDocument)}let Q,Nt="";const{implementation:X,createNodeIterator:J,createDocumentFragment:Z,getElementsByTagName:lt}=r,{importNode:wt}=i;let P={};t.isSupported=typeof Ys=="function"&&typeof ut=="function"&&X&&X.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:bt,ERB_EXPR:xt,TMPLIT_EXPR:gt,DATA_ATTR:Ut,ARIA_ATTR:Bt,IS_SCRIPT_OR_DATA:$t,ATTR_WHITESPACE:Ot,CUSTOM_ELEMENT:Y}=Vi;let{IS_ALLOWED_URI:H}=Vi,W=null;const $=It({},[...Wi,...un,...cn,...fn,...Yi]);let G=null;const pt=It({},[...Ki,...ln,...qi,...mr]);let d=Object.seal(Ks(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),mt=null,dt=null,At=!0,z=!0,q=!1,y=!0,m=!1,E=!0,N=!1,S=!1,U=!1,f=!1,n=!1,s=!1,h=!0,g=!1;const b="user-content-";let v=!0,M=!1,K={},V=null;const ct=It({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let l=null;const o=It({},["audio","video","img","source","image","track"]);let a=null;const x=It({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),T="http://www.w3.org/1998/Math/MathML",L="http://www.w3.org/2000/svg",R="http://www.w3.org/1999/xhtml";let it=R,_t=!1,ft=null;const ot=It({},[T,L,R],an);let Tt=null;const Rt=["application/xhtml+xml","text/html"],Pr="text/html";let Pt=null,ge=null;const rr=255,kr=r.createElement("form"),fe=function(B){return B instanceof RegExp||B instanceof Function},nr=function(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ge&&ge===B)){if((!B||typeof B!="object")&&(B={}),B=Fe(B),Tt=Rt.indexOf(B.PARSER_MEDIA_TYPE)===-1?Pr:B.PARSER_MEDIA_TYPE,Pt=Tt==="application/xhtml+xml"?an:Tr,W=ne(B,"ALLOWED_TAGS")?It({},B.ALLOWED_TAGS,Pt):$,G=ne(B,"ALLOWED_ATTR")?It({},B.ALLOWED_ATTR,Pt):pt,ft=ne(B,"ALLOWED_NAMESPACES")?It({},B.ALLOWED_NAMESPACES,an):ot,a=ne(B,"ADD_URI_SAFE_ATTR")?It(Fe(x),B.ADD_URI_SAFE_ATTR,Pt):x,l=ne(B,"ADD_DATA_URI_TAGS")?It(Fe(o),B.ADD_DATA_URI_TAGS,Pt):o,V=ne(B,"FORBID_CONTENTS")?It({},B.FORBID_CONTENTS,Pt):ct,mt=ne(B,"FORBID_TAGS")?It({},B.FORBID_TAGS,Pt):{},dt=ne(B,"FORBID_ATTR")?It({},B.FORBID_ATTR,Pt):{},K=ne(B,"USE_PROFILES")?B.USE_PROFILES:!1,At=B.ALLOW_ARIA_ATTR!==!1,z=B.ALLOW_DATA_ATTR!==!1,q=B.ALLOW_UNKNOWN_PROTOCOLS||!1,y=B.ALLOW_SELF_CLOSE_IN_ATTR!==!1,m=B.SAFE_FOR_TEMPLATES||!1,E=B.SAFE_FOR_XML!==!1,N=B.WHOLE_DOCUMENT||!1,f=B.RETURN_DOM||!1,n=B.RETURN_DOM_FRAGMENT||!1,s=B.RETURN_TRUSTED_TYPE||!1,U=B.FORCE_BODY||!1,h=B.SANITIZE_DOM!==!1,g=B.SANITIZE_NAMED_PROPS||!1,v=B.KEEP_CONTENT!==!1,M=B.IN_PLACE||!1,H=B.ALLOWED_URI_REGEXP||qs,it=B.NAMESPACE||R,d=B.CUSTOM_ELEMENT_HANDLING||{},B.CUSTOM_ELEMENT_HANDLING&&fe(B.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(d.tagNameCheck=B.CUSTOM_ELEMENT_HANDLING.tagNameCheck),B.CUSTOM_ELEMENT_HANDLING&&fe(B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(d.attributeNameCheck=B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),B.CUSTOM_ELEMENT_HANDLING&&typeof B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(d.allowCustomizedBuiltInElements=B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),m&&(z=!1),n&&(f=!0),K&&(W=It({},Yi),G=[],K.html===!0&&(It(W,Wi),It(G,Ki)),K.svg===!0&&(It(W,un),It(G,ln),It(G,mr)),K.svgFilters===!0&&(It(W,cn),It(G,ln),It(G,mr)),K.mathMl===!0&&(It(W,fn),It(G,qi),It(G,mr))),B.ADD_TAGS&&(W===$&&(W=Fe(W)),It(W,B.ADD_TAGS,Pt)),B.ADD_ATTR&&(G===pt&&(G=Fe(G)),It(G,B.ADD_ATTR,Pt)),B.ADD_URI_SAFE_ATTR&&It(a,B.ADD_URI_SAFE_ATTR,Pt),B.FORBID_CONTENTS&&(V===ct&&(V=Fe(V)),It(V,B.FORBID_CONTENTS,Pt)),v&&(W["#text"]=!0),N&&It(W,["html","head","body"]),W.table&&(It(W,["tbody"]),delete mt.tbody),B.TRUSTED_TYPES_POLICY){if(typeof B.TRUSTED_TYPES_POLICY.createHTML!="function")throw qe('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof B.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw qe('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Q=B.TRUSTED_TYPES_POLICY,Nt=Q.createHTML("")}else Q===void 0&&(Q=zc(C,u)),Q!==null&&typeof Nt=="string"&&(Nt=Q.createHTML(""));Kt&&Kt(B),ge=B}},Hr=It({},["mi","mo","mn","ms","mtext"]),Gr=It({},["foreignobject","annotation-xml"]),Qn=It({},["title","style","font","a","script"]),Dt=It({},[...un,...cn,...Rc]),$r=It({},[...fn,...Lc]),ti=function(B){let D=ut(B);(!D||!D.tagName)&&(D={namespaceURI:it,tagName:"template"});const j=Tr(B.tagName),yt=Tr(D.tagName);return ft[B.namespaceURI]?B.namespaceURI===L?D.namespaceURI===R?j==="svg":D.namespaceURI===T?j==="svg"&&(yt==="annotation-xml"||Hr[yt]):!!Dt[j]:B.namespaceURI===T?D.namespaceURI===R?j==="math":D.namespaceURI===L?j==="math"&&Gr[yt]:!!$r[j]:B.namespaceURI===R?D.namespaceURI===L&&!Gr[yt]||D.namespaceURI===T&&!Hr[yt]?!1:!$r[j]&&(Qn[j]||!Dt[j]):!!(Tt==="application/xhtml+xml"&&ft[B.namespaceURI]):!1},qt=function(B){Ye(t.removed,{element:B});try{B.parentNode.removeChild(B)}catch{B.remove()}},Le=function(B,D){try{Ye(t.removed,{attribute:D.getAttributeNode(B),from:D})}catch{Ye(t.removed,{attribute:null,from:D})}if(D.removeAttribute(B),B==="is"&&!G[B])if(f||n)try{qt(D)}catch{}else try{D.setAttribute(B,"")}catch{}},ir=function(B){let D=null,j=null;if(U)B="<remove></remove>"+B;else{const nt=$i(B,/^[\r\n\t ]+/);j=nt&&nt[0]}Tt==="application/xhtml+xml"&&it===R&&(B='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+B+"</body></html>");const yt=Q?Q.createHTML(B):B;if(it===R)try{D=new k().parseFromString(yt,Tt)}catch{}if(!D||!D.documentElement){D=X.createDocument(it,"template",null);try{D.documentElement.innerHTML=_t?Nt:yt}catch{}}const A=D.body||D.documentElement;return B&&j&&A.insertBefore(r.createTextNode(j),A.childNodes[0]||null),it===R?lt.call(D,N?"html":"body")[0]:N?D.documentElement:A},sr=function(B){return J.call(B.ownerDocument||B,B,I.SHOW_ELEMENT|I.SHOW_COMMENT|I.SHOW_TEXT|I.SHOW_PROCESSING_INSTRUCTION|I.SHOW_CDATA_SECTION,null)},or=function(B){return B instanceof O&&(typeof B.__depth<"u"&&typeof B.__depth!="number"||typeof B.__removalCount<"u"&&typeof B.__removalCount!="number"||typeof B.nodeName!="string"||typeof B.textContent!="string"||typeof B.removeChild!="function"||!(B.attributes instanceof F)||typeof B.removeAttribute!="function"||typeof B.setAttribute!="function"||typeof B.namespaceURI!="string"||typeof B.insertBefore!="function"||typeof B.hasChildNodes!="function")},Lt=function(B){return typeof c=="function"&&B instanceof c},Qt=function(B,D,j){P[B]&&yr(P[B],yt=>{yt.call(t,D,j,ge)})},ar=function(B){let D=null;if(Qt("beforeSanitizeElements",B,null),or(B))return qt(B),!0;const j=Pt(B.nodeName);if(Qt("uponSanitizeElement",B,{tagName:j,allowedTags:W}),B.hasChildNodes()&&!Lt(B.firstElementChild)&&Yt(/<[/\w]/g,B.innerHTML)&&Yt(/<[/\w]/g,B.textContent)||B.nodeType===Ue.progressingInstruction||E&&B.nodeType===Ue.comment&&Yt(/<[/\w]/g,B.data))return qt(B),!0;if(!W[j]||mt[j]){if(!mt[j]&&cr(j)&&(d.tagNameCheck instanceof RegExp&&Yt(d.tagNameCheck,j)||d.tagNameCheck instanceof Function&&d.tagNameCheck(j)))return!1;if(v&&!V[j]){const yt=ut(B)||B.parentNode,A=St(B)||B.childNodes;if(A&&yt){const nt=A.length;for(let at=nt-1;at>=0;--at){const st=et(A[at],!0);st.__removalCount=(B.__removalCount||0)+1,yt.insertBefore(st,ht(B))}}}return qt(B),!0}return B instanceof _&&!ti(B)||(j==="noscript"||j==="noembed"||j==="noframes")&&Yt(/<\/no(script|embed|frames)/i,B.innerHTML)?(qt(B),!0):(m&&B.nodeType===Ue.text&&(D=B.textContent,yr([bt,xt,gt],yt=>{D=Ke(D,yt," ")}),B.textContent!==D&&(Ye(t.removed,{element:B.cloneNode()}),B.textContent=D)),Qt("afterSanitizeElements",B,null),!1)},ur=function(B,D,j){if(h&&(D==="id"||D==="name")&&(j in r||j in kr||j==="__depth"||j==="__removalCount"))return!1;if(!(z&&!dt[D]&&Yt(Ut,D))){if(!(At&&Yt(Bt,D))){if(!G[D]||dt[D]){if(!(cr(B)&&(d.tagNameCheck instanceof RegExp&&Yt(d.tagNameCheck,B)||d.tagNameCheck instanceof Function&&d.tagNameCheck(B))&&(d.attributeNameCheck instanceof RegExp&&Yt(d.attributeNameCheck,D)||d.attributeNameCheck instanceof Function&&d.attributeNameCheck(D))||D==="is"&&d.allowCustomizedBuiltInElements&&(d.tagNameCheck instanceof RegExp&&Yt(d.tagNameCheck,j)||d.tagNameCheck instanceof Function&&d.tagNameCheck(j))))return!1}else if(!a[D]){if(!Yt(H,Ke(j,Ot,""))){if(!((D==="src"||D==="xlink:href"||D==="href")&&B!=="script"&&Nc(j,"data:")===0&&l[B])){if(!(q&&!Yt($t,Ke(j,Ot,"")))){if(j)return!1}}}}}}return!0},cr=function(B){return B!=="annotation-xml"&&$i(B,Y)},fr=function(B){Qt("beforeSanitizeAttributes",B,null);const{attributes:D}=B;if(!D)return;const j={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:G};let yt=D.length;for(;yt--;){const A=D[yt],{name:nt,namespaceURI:at,value:st}=A,se=Pt(nt);let Mt=nt==="value"?st:Uc(st);if(j.attrName=se,j.attrValue=Mt,j.keepAttr=!0,j.forceKeepAttr=void 0,Qt("uponSanitizeAttribute",B,j),Mt=j.attrValue,j.forceKeepAttr||(Le(nt,B),!j.keepAttr))continue;if(!y&&Yt(/\/>/i,Mt)){Le(nt,B);continue}if(E&&Yt(/((--!?|])>)|<\/(style|title)/i,Mt)){Le(nt,B);continue}m&&yr([bt,xt,gt],ei=>{Mt=Ke(Mt,ei," ")});const Wr=Pt(B.nodeName);if(ur(Wr,se,Mt)){if(g&&(se==="id"||se==="name")&&(Le(nt,B),Mt=b+Mt),Q&&typeof C=="object"&&typeof C.getAttributeType=="function"&&!at)switch(C.getAttributeType(Wr,se)){case"TrustedHTML":{Mt=Q.createHTML(Mt);break}case"TrustedScriptURL":{Mt=Q.createScriptURL(Mt);break}}try{at?B.setAttributeNS(at,nt,Mt):B.setAttribute(nt,Mt),or(B)?qt(B):Gi(t.removed)}catch{}}}Qt("afterSanitizeAttributes",B,null)},zr=function tt(B){let D=null;const j=sr(B);for(Qt("beforeSanitizeShadowDOM",B,null);D=j.nextNode();){if(Qt("uponSanitizeShadowNode",D,null),ar(D))continue;const yt=ut(D);D.nodeType===Ue.element&&(yt&&yt.__depth?D.__depth=(D.__removalCount||0)+yt.__depth+1:D.__depth=1),(D.__depth>=rr||D.__depth<0||zi(D.__depth))&&qt(D),D.content instanceof p&&(D.content.__depth=D.__depth,tt(D.content)),fr(D)}Qt("afterSanitizeShadowDOM",B,null)};return t.sanitize=function(tt){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},D=null,j=null,yt=null,A=null;if(_t=!tt,_t&&(tt="<!-->"),typeof tt!="string"&&!Lt(tt))if(typeof tt.toString=="function"){if(tt=tt.toString(),typeof tt!="string")throw qe("dirty is not a string, aborting")}else throw qe("toString is not a function");if(!t.isSupported)return tt;if(S||nr(B),t.removed=[],typeof tt=="string"&&(M=!1),M){if(tt.nodeName){const st=Pt(tt.nodeName);if(!W[st]||mt[st])throw qe("root node is forbidden and cannot be sanitized in-place")}}else if(tt instanceof c)D=ir("<!---->"),j=D.ownerDocument.importNode(tt,!0),j.nodeType===Ue.element&&j.nodeName==="BODY"||j.nodeName==="HTML"?D=j:D.appendChild(j);else{if(!f&&!m&&!N&&tt.indexOf("<")===-1)return Q&&s?Q.createHTML(tt):tt;if(D=ir(tt),!D)return f?null:s?Nt:""}D&&U&&qt(D.firstChild);const nt=sr(M?tt:D);for(;yt=nt.nextNode();){if(ar(yt))continue;const st=ut(yt);yt.nodeType===Ue.element&&(st&&st.__depth?yt.__depth=(yt.__removalCount||0)+st.__depth+1:yt.__depth=1),(yt.__depth>=rr||yt.__depth<0||zi(yt.__depth))&&qt(yt),yt.content instanceof p&&(yt.content.__depth=yt.__depth,zr(yt.content)),fr(yt)}if(M)return tt;if(f){if(n)for(A=Z.call(D.ownerDocument);D.firstChild;)A.appendChild(D.firstChild);else A=D;return(G.shadowroot||G.shadowrootmode)&&(A=wt.call(i,A,!0)),A}let at=N?D.outerHTML:D.innerHTML;return N&&W["!doctype"]&&D.ownerDocument&&D.ownerDocument.doctype&&D.ownerDocument.doctype.name&&Yt(Vs,D.ownerDocument.doctype.name)&&(at="<!DOCTYPE "+D.ownerDocument.doctype.name+`>
`+at),m&&yr([bt,xt,gt],st=>{at=Ke(at,st," ")}),Q&&s?Q.createHTML(at):at},t.setConfig=function(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};nr(tt),S=!0},t.clearConfig=function(){ge=null,S=!1},t.isValidAttribute=function(tt,B,D){ge||nr({});const j=Pt(tt),yt=Pt(B);return ur(j,yt,D)},t.addHook=function(tt,B){typeof B=="function"&&(P[tt]=P[tt]||[],Ye(P[tt],B))},t.removeHook=function(tt){if(P[tt])return Gi(P[tt])},t.removeHooks=function(tt){P[tt]&&(P[tt]=[])},t.removeAllHooks=function(){P={}},t}var Jc=Xs();export{Xc as A,Ic as L,jc as c,Jc as p,Kc as u};
